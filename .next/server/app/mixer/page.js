(()=>{var e={};e.id=187,e.ids=[187],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},7561:e=>{"use strict";e.exports=require("node:fs")},9411:e=>{"use strict";e.exports=require("node:path")},6467:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>m}),s(3662),s(8702),s(5866);var n=s(3191),r=s(8716),l=s(7922),a=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let m=["",{children:["mixer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3662)),"C:\\Users\\swapn\\OneDrive\\Desktop\\ChenCraft final\\chemcraft\\src\\app\\mixer\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8702)),"C:\\Users\\swapn\\OneDrive\\Desktop\\ChenCraft final\\chemcraft\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\swapn\\OneDrive\\Desktop\\ChenCraft final\\chemcraft\\src\\app\\mixer\\page.tsx"],c="/mixer/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/mixer/page",pathname:"/mixer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},8491:(e,t,s)=>{Promise.resolve().then(s.bind(s,7999))},7999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var n=s(326),r=s(7577),l=s(3265),a=s(8560),i=s(6557);let o=(0,i.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var m=s(6943);let d=(0,i.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),c=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var u=s(3634);let p=(0,i.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=s(9148);let h=new Map,g=null;async function b(e){let t=e.map(e=>e.name),s=[...t].sort(),n=new Set;n.add(t.join("+")),n.add(s.join("+")),n.add(t.reverse().join("+")),t.length>=3&&(function e(t){if(t.length<=1)return[t];let s=[];for(let n=0;n<t.length;n++)for(let r of e([...t.slice(0,n),...t.slice(n+1)]))s.push([t[n],...r]);return s})(t).forEach(e=>n.add(e.join("+")));let r=Array.from(n);for(let e of(console.log("Looking up compound for:",t,"Keys:",r),r))if(h.has(e))return console.log("Found in cache with key:",e),h.get(e)||null;if(!g)try{let e=await fetch("/data/compounds.json");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);g=await e.json(),console.log("Loaded compounds database:",Object.keys(g||{}))}catch(e){console.error("Failed to load compounds database:",e),g={}}if(g)for(let e of r){let t=g[e];if(t)return console.log("Found in local database with key:",e,"compound:",t.name),h.set(s.join("+"),t),t}console.log("Not found in local database, querying PubChem API...");try{let t=await f(e);if(t)return console.log("Found compound via PubChem:",t.name),h.set(s.join("+"),t),t}catch(e){console.error("PubChem query failed:",e)}return h.set(s.join("+"),null),null}async function f(e){try{for(let t of function(e){let t=[],s=e.map(e=>e.symbol);if(2===e.length){let[e,n]=s;t.push(`${e}${n}`,`${n}${e}`,`${e}2${n}`,`${n}2${e}`,`${e}${n}2`,`${n}${e}2`,`${e}2${n}3`,`${n}2${e}3`,`${e}3${n}2`,`${n}3${e}2`,`${e}3${n}`,`${n}3${e}`,`${e}${n}3`,`${n}${e}3`,`${e}4${n}`,`${n}4${e}`)}else if(3===e.length){let[e,n,r]=s;t.push(`${e}${n}${r}`,`${e}${r}${n}`,`${n}${e}${r}`,`${n}${r}${e}`,`${r}${e}${n}`,`${r}${n}${e}`,`${e}2${n}${r}`,`${e}${n}2${r}`,`${e}${n}${r}2`,`${e}${n}${r}3`,`${e}${n}3${r}`,`${e}3${n}${r}`)}else e.length>=4&&(t.push(s.join("")),t.push(s.reverse().join("")));return Array.from(new Set(t))}(e)){let e=await j(t);if(e)return e}let t=e.map(e=>e.name.toLowerCase()).sort().join(" "),s=await y(t);if(s)return s;return null}catch(e){return null}}async function j(e){try{let t=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/formula/${e}/JSON`,s=await fetch(t);if(!s.ok)return null;let n=(await s.json()).PC_Compounds;if(!n||0===n.length)return null;let r=n[0],l=r.id?.id?.cid;if(!l)return null;let a=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/${l}/property/MolecularFormula,IUPACName,MolecularWeight,CanonicalSMILES/JSON`,i=await fetch(a);if(!i.ok)return null;let o=await i.json(),m=o.PropertyTable?.Properties?.[0];if(!m)return null;let d=m.IUPACName||m.MolecularFormula||"Unknown compound";return{elements:[],formula:m.MolecularFormula||e,name:d.length>50?m.MolecularFormula:d,properties:{state:"Unknown",melting_point:"Unknown",boiling_point:"Unknown",density:"Unknown"},uses:["Chemical compound","Research","Industrial applications"],links:{wikipedia:`https://en.wikipedia.org/wiki/${encodeURIComponent(d)}`,pubchem:`https://pubchem.ncbi.nlm.nih.gov/compound/${l}`}}}catch(e){return null}}async function y(e){try{let t=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/${encodeURIComponent(e)}/JSON`,s=await fetch(t);if(!s.ok)return null;let n=(await s.json()).PC_Compounds;if(!n||0===n.length)return null;let r=n[0],l=r.id?.id?.cid;if(!l)return null;let a=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/${l}/property/MolecularFormula,IUPACName,MolecularWeight/JSON`,i=await fetch(a);if(!i.ok)return null;let o=await i.json(),m=o.PropertyTable?.Properties?.[0];if(!m)return null;let d=m.IUPACName||e;return{elements:[],formula:m.MolecularFormula||"Unknown",name:d.length>50?m.MolecularFormula:d,properties:{state:"Unknown",melting_point:"Unknown",boiling_point:"Unknown",density:"Unknown"},uses:["Chemical compound","Research","Industrial applications"],links:{wikipedia:`https://en.wikipedia.org/wiki/${encodeURIComponent(d)}`,pubchem:`https://pubchem.ncbi.nlm.nih.gov/compound/${l}`}}}catch(e){return null}}let v=(e,t)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}},N=(0,l.default)(async()=>{},{loadableGenerated:{modules:["app\\mixer\\page.tsx -> @/components/PeriodicTable"]},loading:()=>n.jsx("div",{className:"bg-gray-200 h-96 rounded-lg"}),ssr:!1});function w(){let{isSignedIn:e,isLoaded:t}=(0,a.aF)(),{elements:s}=(0,x.l)(),[l,i]=(0,r.useState)([]),[h,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(!1),y=e=>{i(l.filter(t=>t.element.id!==e))},w=(e,t)=>{if(t<=0){y(e);return}i(l.map(s=>s.element.id===e?{...s,count:t}:s))},$=v(async()=>{if(l.length<2){g({success:!1,error:"Please select at least 2 elements to mix.",suggestions:["Try adding more elements","Experiment with different combinations"]});return}j(!0);try{let e=l.map(e=>({symbol:e.element.symbol,name:e.element.name})),t=await b(e);if(t){let e=[{name:"State",value:t.properties.state,unit:""},{name:"Melting Point",value:t.properties.melting_point,unit:""},{name:"Boiling Point",value:t.properties.boiling_point,unit:""},{name:"Density",value:t.properties.density,unit:""}].filter(e=>e.value&&"Unknown"!==e.value);g({success:!0,compound:{id:`compound-${Date.now()}`,name:t.name,formula:t.formula,elements:l.map(e=>({element:e.element.symbol,count:e.count})),type:"compound",properties:e,description:`${t.name} (${t.formula})`,uses:t.uses,phase:t.properties.state||"unknown",color:"unknown",learnMore:t.links.wikipedia,pubchemUrl:t.links.pubchem}})}else{let t=e.map(e=>{var t;return t=e.name,`https://en.wikipedia.org/wiki/${encodeURIComponent(t)}`});g({success:!1,error:"No stable compound known",suggestions:t.map(e=>`Learn about elements: ${e}`)})}}catch(e){console.error("Mixing error:",e),g({success:!1,error:"Error looking up compound",suggestions:["Please try again"]})}finally{j(!1)}},300);return(s.slice(0,10),t)?e?(0,n.jsxs)("div",{className:"min-h-screen px-2 sm:px-4 md:px-6 lg:px-8 py-4 md:py-6 lg:py-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-3 md:mb-4",children:"Element Mixer"}),n.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 px-4",children:"Combine elements to create compounds and discover chemistry"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[n.jsx("div",{className:"xl:col-span-2",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4 lg:p-6 border border-gray-200",children:[n.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-900 mb-3 md:mb-4",children:"Select Elements"}),n.jsx("div",{className:"w-full",children:n.jsx(N,{onElementClick:e=>{let t=l.findIndex(t=>t.element.id===e.id);if(t>=0){let e=[...l];e[t].count+=1,i(e)}else i([...l,{element:e,count:1}])}})})]})}),n.jsx("div",{className:"xl:col-span-1",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4 lg:p-6 border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[n.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Mixing Zone"}),(0,n.jsxs)("button",{onClick:()=>{i([]),g(null)},className:"flex items-center space-x-1 md:space-x-2 px-2 md:px-4 py-1 md:py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm md:text-base",children:[n.jsx(o,{className:"h-3 w-3 md:h-4 md:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]}),(0,n.jsxs)("div",{className:"mb-4 md:mb-6",children:[n.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2 md:mb-3",children:"Selected Elements"}),0===l.length?(0,n.jsxs)("div",{className:"text-center py-6 md:py-8 text-gray-500",children:[n.jsx(m.Z,{className:"h-8 w-8 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 opacity-50"}),n.jsx("p",{className:"text-sm md:text-base",children:"No elements selected"}),n.jsx("p",{className:"text-xs md:text-sm",children:"Click on elements to add them to the mixer"})]}):n.jsx("div",{className:"space-y-2 md:space-y-3",children:l.map(({element:e,count:t})=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 md:p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3",children:[n.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded flex items-center justify-center text-white font-bold text-sm md:text-base",style:{backgroundColor:e.color},children:e.symbol}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 text-sm md:text-base",children:e.name}),(0,n.jsxs)("div",{className:"text-xs md:text-sm text-gray-600",children:["Atomic Number: ",e.atomicNumber]})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-1 md:space-x-2",children:[n.jsx("button",{onClick:()=>w(e.id,t-1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(d,{className:"h-3 w-3 md:h-4 md:w-4"})}),n.jsx("span",{className:"font-medium text-gray-900 min-w-[1.5rem] md:min-w-[2rem] text-center text-sm md:text-base",children:t}),n.jsx("button",{onClick:()=>w(e.id,t+1),className:"p-1 hover:bg-gray-200 rounded",children:n.jsx(c,{className:"h-3 w-3 md:h-4 md:w-4"})}),n.jsx("button",{onClick:()=>y(e.id),className:"p-1 hover:bg-red-100 text-red-600 rounded ml-1 md:ml-2",children:n.jsx(d,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]},e.id))})]}),n.jsx("div",{className:"mb-4 md:mb-6",children:n.jsx("button",{onClick:$,disabled:l.length<2||f,className:"w-full flex items-center justify-center space-x-2 py-2 md:py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg text-sm md:text-base",children:f?(0,n.jsxs)(n.Fragment,{children:[n.jsx("div",{className:"animate-spin h-4 w-4 md:h-5 md:w-5 border-2 border-white border-t-transparent rounded-full"}),n.jsx("span",{children:"Mixing..."})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx(u.Z,{className:"h-4 w-4 md:h-5 md:w-5"}),n.jsx("span",{children:"Mix Elements"})]})})}),h&&(0,n.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-3 md:mb-4",children:"Mixing Result"}),h.success?(0,n.jsxs)("div",{className:"space-y-4",children:[h.compound&&(0,n.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 md:p-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-2 md:mb-3",children:[n.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(m.Z,{className:"h-3 w-3 md:h-5 md:w-5 text-white"})}),(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"text-base md:text-lg font-semibold text-green-900",children:h.compound.name}),n.jsx("p",{className:"text-green-700 font-mono text-sm md:text-base",children:h.compound.formula})]})]}),n.jsx("p",{className:"text-green-800 mb-2 md:mb-3 text-sm md:text-base",children:h.compound.description}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4 text-xs md:text-sm mb-3 md:mb-4",children:[(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Formula:"})," ",n.jsx("span",{className:"font-mono",children:h.compound.formula})]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Type:"})," ",h.compound.type]}),(0,n.jsxs)("div",{className:"sm:col-span-2",children:[n.jsx("strong",{children:"Phase:"})," ",h.compound.phase]})]}),h.compound.properties&&h.compound.properties.length>0&&(0,n.jsxs)("div",{className:"mb-3 md:mb-4",children:[n.jsx("h5",{className:"font-medium text-green-900 mb-1 md:mb-2 text-sm md:text-base",children:"Properties:"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 md:gap-2 text-xs md:text-sm",children:h.compound.properties.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("strong",{children:[e.name,":"]})," ",e.value," ",e.unit]},t))})]}),(h.compound.learnMore||h.compound.pubchemUrl)&&(0,n.jsxs)("div",{className:"border-t border-green-200 pt-3 md:pt-4",children:[n.jsx("h5",{className:"font-medium text-green-900 mb-1 md:mb-2 text-sm md:text-base",children:"Learn More:"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-1 md:gap-2",children:[h.compound.learnMore&&n.jsx("a",{href:h.compound.learnMore,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 md:px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs md:text-sm hover:bg-green-200",children:"Wikipedia"}),h.compound.pubchemUrl&&n.jsx("a",{href:h.compound.pubchemUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 md:px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs md:text-sm hover:bg-blue-200",children:"PubChem"})]})]})]}),h.reaction&&(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Chemical Reaction"}),n.jsx("p",{className:"font-mono text-blue-800",children:h.reaction.equation}),(0,n.jsxs)("p",{className:"text-sm text-blue-700 mt-2",children:["Type: ",h.reaction.type]})]})]}):(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(p,{className:"h-5 w-5 text-red-500"}),n.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Mixing Failed"})]}),n.jsx("p",{className:"text-red-800 mb-3",children:h.error}),h.suggestions&&(0,n.jsxs)("div",{children:[n.jsx("h5",{className:"font-medium text-red-900 mb-2",children:"Suggestions:"}),n.jsx("ul",{className:"list-disc list-inside text-sm text-red-700",children:h.suggestions.map((e,t)=>n.jsx("li",{children:e},t))})]})]})]})]})})]})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to use the Element Mixer"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to mix elements and create compounds."}),n.jsx(a.$d,{mode:"modal",children:n.jsx("button",{className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700",children:"Sign In"})})]}):n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:"Loading..."})}},3662:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(8570).createProxy)(String.raw`C:\Users\swapn\OneDrive\Desktop\ChenCraft final\chemcraft\src\app\mixer\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[244,207,344,148],()=>s(6467));module.exports=n})();