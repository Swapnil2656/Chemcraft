(()=>{var e={};e.id=187,e.ids=[187],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},7561:e=>{"use strict";e.exports=require("node:fs")},9411:e=>{"use strict";e.exports=require("node:path")},3574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(3662),r(1604),r(5866);var a=r(3191),o=r(8716),i=r(7922),l=r.n(i),n=r(5231),s={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>n[e]);r.d(t,s);let c=["",{children:["mixer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3662)),"C:\\Users\\swapn\\Desktop\\Projects\\Chemcraft\\chemcraft\\src\\app\\mixer\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1604)),"C:\\Users\\swapn\\Desktop\\Projects\\Chemcraft\\chemcraft\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\swapn\\Desktop\\Projects\\Chemcraft\\chemcraft\\src\\app\\mixer\\page.tsx"],m="/mixer/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/mixer/page",pathname:"/mixer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6284:(e,t,r)=>{Promise.resolve().then(r.bind(r,5916))},5916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var a=r(326),o=r(7577),i=r(3265),l=r(9698),n=r(6557);let s=(0,n.Z)("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]),c=(0,n.Z)("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),d=(0,n.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var m=r(6943);let u=(0,n.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),p=(0,n.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var g=r(3634);let h=(0,n.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var y=r(8074);let b=new Map,x=null;async function f(e){let t=e.map(e=>e.name),r=[...t].sort(),a=new Set;a.add(t.join("+")),a.add(r.join("+")),a.add(t.reverse().join("+")),t.length>=3&&(function e(t){if(t.length<=1)return[t];let r=[];for(let a=0;a<t.length;a++)for(let o of e([...t.slice(0,a),...t.slice(a+1)]))r.push([t[a],...o]);return r})(t).forEach(e=>a.add(e.join("+")));let o=Array.from(a);for(let e of(console.log("Looking up compound for:",t,"Keys:",o),o))if(b.has(e))return console.log("Found in cache with key:",e),b.get(e)||null;if(!x)try{let e=await fetch("/data/compounds.json");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);x=await e.json(),console.log("Loaded compounds database:",Object.keys(x||{}))}catch(e){console.error("Failed to load compounds database:",e),x={}}if(x)for(let e of o){let t=x[e];if(t)return console.log("Found in local database with key:",e,"compound:",t.name),b.set(r.join("+"),t),t}console.log("Not found in local database, querying PubChem API...");try{let t=await w(e);if(t)return console.log("Found compound via PubChem:",t.name),b.set(r.join("+"),t),t}catch(e){console.error("PubChem query failed:",e)}return b.set(r.join("+"),null),null}async function w(e){try{for(let t of function(e){let t=[],r=e.map(e=>e.symbol);if(2===e.length){let[e,a]=r;t.push(`${e}${a}`,`${a}${e}`,`${e}2${a}`,`${a}2${e}`,`${e}${a}2`,`${a}${e}2`,`${e}2${a}3`,`${a}2${e}3`,`${e}3${a}2`,`${a}3${e}2`,`${e}3${a}`,`${a}3${e}`,`${e}${a}3`,`${a}${e}3`,`${e}4${a}`,`${a}4${e}`)}else if(3===e.length){let[e,a,o]=r;t.push(`${e}${a}${o}`,`${e}${o}${a}`,`${a}${e}${o}`,`${a}${o}${e}`,`${o}${e}${a}`,`${o}${a}${e}`,`${e}2${a}${o}`,`${e}${a}2${o}`,`${e}${a}${o}2`,`${e}${a}${o}3`,`${e}${a}3${o}`,`${e}3${a}${o}`)}else e.length>=4&&(t.push(r.join("")),t.push(r.reverse().join("")));return Array.from(new Set(t))}(e)){let e=await C(t);if(e)return e}let t=e.map(e=>e.name.toLowerCase()).sort().join(" "),r=await v(t);if(r)return r;return null}catch(e){return null}}async function C(e){try{let t=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/formula/${e}/JSON`,r=await fetch(t);if(!r.ok)return null;let a=(await r.json()).PC_Compounds;if(!a||0===a.length)return null;let o=a[0],i=o.id?.id?.cid;if(!i)return null;let l=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/${i}/property/MolecularFormula,IUPACName,MolecularWeight,CanonicalSMILES/JSON`,n=await fetch(l);if(!n.ok)return null;let s=await n.json(),c=s.PropertyTable?.Properties?.[0];if(!c)return null;let d=c.IUPACName||c.MolecularFormula||"Unknown compound";return{elements:[],formula:c.MolecularFormula||e,name:d.length>50?c.MolecularFormula:d,properties:{state:"Unknown",melting_point:"Unknown",boiling_point:"Unknown",density:"Unknown"},uses:["Chemical compound","Research","Industrial applications"],links:{wikipedia:`https://en.wikipedia.org/wiki/${encodeURIComponent(d)}`,pubchem:`https://pubchem.ncbi.nlm.nih.gov/compound/${i}`}}}catch(e){return null}}async function v(e){try{let t=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/${encodeURIComponent(e)}/JSON`,r=await fetch(t);if(!r.ok)return null;let a=(await r.json()).PC_Compounds;if(!a||0===a.length)return null;let o=a[0],i=o.id?.id?.cid;if(!i)return null;let l=`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/${i}/property/MolecularFormula,IUPACName,MolecularWeight/JSON`,n=await fetch(l);if(!n.ok)return null;let s=await n.json(),c=s.PropertyTable?.Properties?.[0];if(!c)return null;let d=c.IUPACName||e;return{elements:[],formula:c.MolecularFormula||"Unknown",name:d.length>50?c.MolecularFormula:d,properties:{state:"Unknown",melting_point:"Unknown",boiling_point:"Unknown",density:"Unknown"},uses:["Chemical compound","Research","Industrial applications"],links:{wikipedia:`https://en.wikipedia.org/wiki/${encodeURIComponent(d)}`,pubchem:`https://pubchem.ncbi.nlm.nih.gov/compound/${i}`}}}catch(e){return null}}let _=(e,t)=>{let r;return(...a)=>{clearTimeout(r),r=setTimeout(()=>e(...a),t)}},N={H:["O","Cl","F","Br","I","N","S","C","Na","K","Ca","Mg","Li","Al","Zn","Fe","Cu","Pb"],He:[],Li:["O","Cl","F","Br","I","S","N","H","C"],Be:["O","Cl","F","Br","I","S"],B:["O","Cl","F","Br","I","N","H"],C:["O","H","N","S","Cl","F","Br","I","Si"],N:["H","O","C","Cl","F","Br","I","S","Li","Na","K","Ca","Mg"],O:["H","C","N","S","P","Si","Li","Na","K","Ca","Mg","Al","Fe","Cu","Zn","Pb","Ag","Au","Ti","Cr","Mn","Ni","Co"],F:["H","Li","Na","K","Ca","Mg","Al","Si","P","S","Cl","Fe","Cu","Zn","Ag","Au","C","N","B","Be"],Ne:[],Na:["O","Cl","F","Br","I","S","H","N","C"],Mg:["O","Cl","F","Br","I","S","H","N","C"],Al:["O","Cl","F","Br","I","S","H","N"],Si:["O","Cl","F","Br","I","C","H"],P:["O","Cl","F","Br","I","S","H","C"],S:["H","O","C","N","P","Fe","Cu","Zn","Ag","Pb","Na","K","Ca","Mg","Al","Li"],Cl:["H","Li","Na","K","Ca","Mg","Al","Fe","Cu","Zn","Ag","Pb","C","N","P","S","Si","B","Be","F"],Ar:[],K:["O","Cl","F","Br","I","S","H","N","C"],Ca:["O","Cl","F","Br","I","S","H","N","C"],Sc:["O","Cl","F","Br","I","S"],Ti:["O","Cl","F","Br","I","S","N","C"],V:["O","Cl","F","Br","I","S"],Cr:["O","Cl","F","Br","I","S"],Mn:["O","Cl","F","Br","I","S"],Fe:["O","S","Cl","Br","I","C","H"],Co:["O","S","Cl","Br","I"],Ni:["O","S","Cl","Br","I"],Cu:["O","S","Cl","Br","I","H"],Zn:["O","S","Cl","Br","I","H"],Ga:["O","Cl","F","Br","I","S"],Ge:["O","Cl","F","Br","I","S","H"],As:["O","Cl","F","Br","I","S","H"],Se:["H","O","Na","K","Ca","Mg"],Br:["H","Li","Na","K","Ca","Mg","Al","Fe","Cu","Zn","Ag","Pb","C","N","P","S","Si","B","Be"],Kr:[],Rb:["O","Cl","F","Br","I","S","H"],Sr:["O","Cl","F","Br","I","S","H"],Y:["O","Cl","F","Br","I","S"],Zr:["O","Cl","F","Br","I","S"],Nb:["O","Cl","F","Br","I","S"],Mo:["O","S","Cl","F"],Tc:["O","Cl","F","S"],Ru:["O","Cl","F"],Rh:["O","Cl","F"],Pd:["O","Cl","Br","I"],Ag:["O","S","Cl","Br","I"],Cd:["O","S","Cl","Br","I"],In:["O","Cl","F","Br","I","S"],Sn:["O","Cl","F","Br","I","S","H"],Sb:["O","Cl","F","Br","I","S"],Te:["H","O","Na","K"],I:["H","Li","Na","K","Ca","Mg","Al","Fe","Cu","Zn","Ag","Pb","C","N","P","S","Si"],Xe:["F","O"],Cs:["O","Cl","F","Br","I","S","H"],Ba:["O","Cl","F","Br","I","S","H"],La:["O","Cl","F","Br","I","S"],Ce:["O","Cl","F","S"],Pr:["O","Cl","F","S"],Nd:["O","Cl","F","S"],Pm:["O","Cl","F"],Sm:["O","Cl","F","S"],Eu:["O","Cl","F","S"],Gd:["O","Cl","F","S"],Tb:["O","Cl","F"],Dy:["O","Cl","F"],Ho:["O","Cl","F"],Er:["O","Cl","F"],Tm:["O","Cl","F"],Yb:["O","Cl","F"],Lu:["O","Cl","F"],Hf:["O","Cl","F","S"],Ta:["O","F","Cl"],W:["O","F","Cl","S"],Re:["O","F","Cl"],Os:["O","F"],Ir:["O","F","Cl"],Pt:["O","Cl","F"],Au:["Cl","Br","I"],Hg:["O","S","Cl","Br","I"],Tl:["O","Cl","F","Br","I","S"],Pb:["O","S","Cl","Br","I","H"],Bi:["O","Cl","F","Br","I","S"],Po:["O","Cl","Br","I"],At:["H","Na","K"],Rn:[],Fr:["O","Cl","F","Br","I"],Ra:["O","Cl","F","Br","I","S"],Ac:["O","Cl","F"],Th:["O","Cl","F","S"],Pa:["O","F","Cl"],U:["O","F","Cl","S"],Np:["O","F","Cl"],Pu:["O","F","Cl"],Am:["O","F","Cl"],Cm:["O","F"],Bk:["O","F"],Cf:["O","F"],Es:["O"],Fm:[],Md:[],No:[],Lr:[],Rf:[],Db:[],Sg:[],Bh:[],Hs:[],Mt:[],Ds:[],Rg:[],Cn:[],Nh:[],Fl:[],Mc:[],Lv:[],Ts:[],Og:[]},k=e=>N[e]||[],S=(e,t)=>{let r=N[e]||[],a=N[t]||[];return r.includes(t)||a.includes(e)};class O{constructor(){this.rules=[],this.elements=new Map,this.cache=new Map,this.loadDatabase(),this.initializeElements(),this.loadChemistryRules()}async predictCompound(e,t){if(Array.isArray(e))return this.predictCompoundWithCounts(e);if(t)return this.predictBinaryCompound(e,t);throw Error("Invalid input format for predictCompound")}async predictBinaryCompound(e,t){let r=this.getCacheKey(e,t);if(this.cache.has(r))return this.cache.get(r);let a=this.searchDatabase(e,t);if(a){let e={...a,source:"database",confidence:1};return this.cache.set(r,e),e}try{let a=await this.fetchFromPubChem(e,t);if(a.will_react)return this.cache.set(r,a),a}catch(e){console.warn("PubChem API failed, falling back to rules engine")}let o=this.applyChemistryRules(e,t);if(o.confidence>.8)return this.cache.set(r,o),o;let i=this.runMLModel(e,t);if(i.confidence>.6)return this.cache.set(r,i),i;let l={will_react:!1,confidence:.9,source:"rules_engine",reason:"No favorable reaction conditions found"};return this.cache.set(r,l),l}applyChemistryRules(e,t){let r=this.elements.get(e),a=this.elements.get(t);return r&&a?this.isAlkaliMetal(e)&&this.isHalogen(t)?{will_react:!0,confidence:1,formula:`${e}${t}`,name:`${r.name} ${this.getHalideIonName(t)}`,properties:{state:"solid",color:"white",type:"ionic",crystal_structure:"cubic"},safety:{hazard_level:"safe",handling:"standard"},uses:["Food seasoning (if NaCl)","De-icing agent","Chemical synthesis","Water treatment"],source:"rules_engine",rule_applied:"R001: Alkali Metal + Halogen",warnings:["Violent reaction during formation"]}:this.isAlkalineEarthMetal(e)&&this.isHalogen(t)?{will_react:!0,confidence:.95,formula:`${e}${t}2`,name:`${r.name} ${this.getHalideIonName(t)}`,properties:{state:"solid",type:"ionic"},source:"rules_engine",rule_applied:"R002: Alkaline Earth + Halogen"}:this.isMetal(e)&&"O"===t&&!["Au","Pt","Ag"].includes(e)?{will_react:!0,confidence:.85,formula:this.calculateOxideFormula(e),name:`${r.name} oxide`,properties:{state:"solid",type:"ionic_oxide",color:this.predictOxideColor(e)},source:"rules_engine",rule_applied:"R003: Metal + Oxygen"}:"H"===e&&this.isNonmetal(t)?this.predictHydrogenCompound(t):["He","Ne","Ar","Kr"].includes(e)||["He","Ne","Ar","Kr"].includes(t)?{will_react:!1,confidence:1,source:"rules_engine",rule_applied:"R005: Noble Gas Inertness",reason:"Noble gases are chemically inert"}:"Xe"===e&&"F"===t||"F"===e&&"Xe"===t?{will_react:!0,confidence:.7,formula:"XeF2",name:"Xenon difluoride",properties:{state:"solid",color:"colorless",stability:"metastable"},source:"rules_engine",rule_applied:"R006: Noble Gas Exception",warnings:["Requires extreme conditions","Highly reactive compound"]}:this.isTransitionMetal(e)&&this.isTransitionMetal(t)?{will_react:!1,confidence:.85,source:"rules_engine",rule_applied:"R007: Metal-Metal Alloy",reason:"Forms metallic mixture (alloy), not chemical compound",note:"May form intermetallic compounds under specific conditions"}:this.isTransitionMetal(e)&&this.isHalogen(t)?{will_react:!0,confidence:.9,formula:this.getTransitionMetalHalideFormula(e,t),name:`${r?.name} ${this.getHalideIonName(t)}`,properties:{state:"solid",type:"ionic compound",color:this.getTransitionMetalColor(e,t)},safety:{hazard_level:"medium",warnings:["May be toxic","Handle with care"]},uses:["Catalysts","Chemical synthesis","Research"],source:"rules_engine",rule_applied:"R008: Transition Metal + Halogen",warnings:[]}:"C"===e&&"H"===t||"H"===e&&"C"===t?{will_react:!0,confidence:.95,formula:"CH4",name:"methane",properties:{state:"gas",type:"organic compound",color:"colorless"},safety:{hazard_level:"medium",warnings:["Flammable gas","Asphyxiant in high concentrations"]},uses:["Natural gas","Fuel","Chemical feedstock"],source:"rules_engine",rule_applied:"R009: Carbon + Hydrogen → Simple Hydrocarbon",warnings:["Highly flammable"]}:this.isMetal(e)&&"S"===t?{will_react:!0,confidence:.9,formula:this.getMetalSulfideFormula(e),name:`${r?.name} sulfide`,properties:{state:"solid",type:"ionic compound",color:this.getSulfideColor(e)},safety:{hazard_level:"medium",warnings:["May release toxic H2S gas when wet"]},uses:["Semiconductors","Pigments","Metallurgy"],source:"rules_engine",rule_applied:"R010: Metal + Sulfur → Metal Sulfide",warnings:[]}:"N"===e&&"H"===t||"H"===e&&"N"===t?{will_react:!0,confidence:.85,formula:"NH3",name:"ammonia",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety:{hazard_level:"high",warnings:["Toxic gas","Corrosive","Irritant to eyes and respiratory system"]},uses:["Fertilizer production","Cleaning agent","Refrigerant"],source:"rules_engine",rule_applied:"R011: Nitrogen + Hydrogen → Ammonia",warnings:["Requires high pressure and temperature","Toxic vapors"]}:"C"===e&&"O"===t||"O"===e&&"C"===t?{will_react:!0,confidence:.95,formula:"CO2",name:"carbon dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety:{hazard_level:"low",warnings:["Asphyxiant in high concentrations"]},uses:["Fire extinguisher","Carbonated beverages","Dry ice"],source:"rules_engine",rule_applied:"R012: Carbon + Oxygen → Carbon Dioxide",warnings:[]}:"Si"===e&&"O"===t||"O"===e&&"Si"===t?{will_react:!0,confidence:1,formula:"SiO2",name:"silicon dioxide",properties:{state:"solid",type:"covalent network",color:"white"},safety:{hazard_level:"low",warnings:["Dust may cause respiratory irritation"]},uses:["Glass manufacturing","Electronics","Ceramics"],source:"rules_engine",rule_applied:"R013: Silicon + Oxygen → Silicon Dioxide",warnings:[]}:{will_react:!1,confidence:.3,source:"rules_engine",reason:"No applicable chemistry rule found"}:{will_react:!1,confidence:0,source:"rules_engine"}}runMLModel(e,t){let r=this.elements.get(e),a=this.elements.get(t);if(!r||!a)return{will_react:!1,confidence:0,source:"ml_model"};let o=this.extractFeatures(r,a),i=this.simulateMLPrediction(o);return{will_react:i.probability>.6,confidence:i.probability,formula:i.formula,source:"ml_model",properties:i.properties}}async fetchFromPubChem(e,t){for(let r of this.generateFormulaPatterns(e,t))try{let e=await fetch(`https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/fastformula/${r}/JSON`,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(e.ok){let t=await e.json();if(t.PC_Compounds&&t.PC_Compounds.length>0)return this.parsePubChemData(t.PC_Compounds[0],r)}}catch(e){console.warn(`PubChem lookup failed for ${r}:`,e);continue}return{will_react:!1,confidence:0,source:"pubchem_api"}}isAlkaliMetal(e){return["Li","Na","K","Rb","Cs","Fr"].includes(e)}isAlkalineEarthMetal(e){return["Be","Mg","Ca","Sr","Ba","Ra"].includes(e)}isHalogen(e){return["F","Cl","Br","I","At"].includes(e)}isMetal(e){let t=this.elements.get(e);return t?.category.includes("metal")||!1}isNonmetal(e){let t=this.elements.get(e);return t?.category==="nonmetals"}getHalideIonName(e){return({F:"Fluoride",Cl:"Chloride",Br:"Bromide",I:"Iodide",At:"Astatide"})[e]||"halide"}calculateOxideFormula(e){let t=this.elements.get(e);if(!t)return`${e}O`;let r=t.oxidationStates[0]||2;return 1===r?`${e}2O`:2===r?`${e}O`:3===r?`${e}2O3`:4===r?`${e}O2`:`${e}O`}predictOxideColor(e){return({Fe:"reddish-brown",Cu:"black",Cr:"green",Mn:"brown",Ni:"green",Co:"black",Ti:"white",Al:"white",Zn:"white",Mg:"white",Ca:"white"})[e]||"white"}predictHydrogenCompound(e){let t={O:{formula:"H2O",name:"Water",confidence:1,properties:{state:"liquid",color:"colorless"},uses:["Universal solvent","Drinking water","Chemical reactions"]},S:{formula:"H2S",name:"Hydrogen sulfide",confidence:.9,properties:{state:"gas",color:"colorless",odor:"rotten eggs"},warnings:["Toxic gas","Flammable"]},N:{formula:"NH3",name:"Ammonia",confidence:.9,properties:{state:"gas",color:"colorless",odor:"pungent"},uses:["Fertilizer","Cleaning products","Refrigeration"]},Cl:{formula:"HCl",name:"Hydrogen chloride",confidence:.95,properties:{state:"gas",color:"colorless"},warnings:["Corrosive","Forms hydrochloric acid in water"]}}[e];return t?{will_react:!0,source:"rules_engine",rule_applied:"R004: Hydrogen + Nonmetal",...t}:{will_react:!1,confidence:.4,source:"rules_engine"}}extractFeatures(e,t){return[Math.abs(e.electronegativity-t.electronegativity),e.atomicNumber+t.atomicNumber,this.getGroupCompatibility(e,t),Math.abs(e.period-t.period),this.isMetalNonmetalPair(e,t)?1:0,e.valenceElectrons+t.valenceElectrons,this.calculateIonicPotential(e,t)]}simulateMLPrediction(e){let[t,r,a,o,i,l,n]=e,s=.5;return i&&(s+=.2),t>1.5&&(s+=.15),(10===r||18===r||36===r)&&(s=.05),{probability:Math.min(.95,Math.max(.05,s+=.1*a)),formula:"predicted",properties:{predicted:!0}}}getGroupCompatibility(e,t){return 1===e.group&&17===t.group||17===e.group&&1===t.group?1:2===e.group&&17===t.group||17===e.group&&2===t.group?.9:.3}isMetalNonmetalPair(e,t){return this.isMetal(e.symbol)!==this.isMetal(t.symbol)}calculateIonicPotential(e,t){return Math.abs(e.electronegativity-t.electronegativity)/4}generateFormulaPatterns(e,t){return[`${e}${t}`,`${t}${e}`,`${e}2${t}`,`${e}${t}2`,`${e}2${t}3`,`${e}3${t}2`]}parsePubChemData(e,t){return{will_react:!0,confidence:1,formula:t,name:e.props?.find(e=>"IUPAC Name"===e.urn.label)?.value?.sval||"Unknown",source:"pubchem_api",properties:{verified:!0,pubchem_cid:e.id?.id?.cid}}}searchDatabase(e,t){return null}getCacheKey(e,t){return[e,t].sort().join("-")}async loadDatabase(){console.log("Loading essential compounds database..."),this.loadEssentialCompounds()}initializeElements(){for(let e of[{symbol:"H",name:"Hydrogen",atomicNumber:1,group:1,period:1,category:"nonmetal",electronegativity:2.2,oxidationStates:[1,-1],valenceElectrons:1},{symbol:"He",name:"Helium",atomicNumber:2,group:18,period:1,category:"noble gas",electronegativity:0,oxidationStates:[0],valenceElectrons:2},{symbol:"Li",name:"Lithium",atomicNumber:3,group:1,period:2,category:"alkali metal",electronegativity:.98,oxidationStates:[1],valenceElectrons:1},{symbol:"Be",name:"Beryllium",atomicNumber:4,group:2,period:2,category:"alkaline earth metal",electronegativity:1.57,oxidationStates:[2],valenceElectrons:2},{symbol:"B",name:"Boron",atomicNumber:5,group:13,period:2,category:"metalloid",electronegativity:2.04,oxidationStates:[3],valenceElectrons:3},{symbol:"C",name:"Carbon",atomicNumber:6,group:14,period:2,category:"nonmetal",electronegativity:2.55,oxidationStates:[4,-4,2],valenceElectrons:4},{symbol:"N",name:"Nitrogen",atomicNumber:7,group:15,period:2,category:"nonmetal",electronegativity:3.04,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"O",name:"Oxygen",atomicNumber:8,group:16,period:2,category:"nonmetal",electronegativity:3.44,oxidationStates:[-2],valenceElectrons:6},{symbol:"F",name:"Fluorine",atomicNumber:9,group:17,period:2,category:"halogen",electronegativity:3.98,oxidationStates:[-1],valenceElectrons:7},{symbol:"Ne",name:"Neon",atomicNumber:10,group:18,period:2,category:"noble gas",electronegativity:0,oxidationStates:[0],valenceElectrons:8},{symbol:"Na",name:"Sodium",atomicNumber:11,group:1,period:3,category:"alkali metal",electronegativity:.93,oxidationStates:[1],valenceElectrons:1},{symbol:"Mg",name:"Magnesium",atomicNumber:12,group:2,period:3,category:"alkaline earth metal",electronegativity:1.31,oxidationStates:[2],valenceElectrons:2},{symbol:"Al",name:"Aluminum",atomicNumber:13,group:13,period:3,category:"post-transition metal",electronegativity:1.61,oxidationStates:[3],valenceElectrons:3},{symbol:"Si",name:"Silicon",atomicNumber:14,group:14,period:3,category:"metalloid",electronegativity:1.9,oxidationStates:[4,-4],valenceElectrons:4},{symbol:"P",name:"Phosphorus",atomicNumber:15,group:15,period:3,category:"nonmetal",electronegativity:2.19,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"S",name:"Sulfur",atomicNumber:16,group:16,period:3,category:"nonmetal",electronegativity:2.58,oxidationStates:[-2,4,6],valenceElectrons:6},{symbol:"Cl",name:"Chlorine",atomicNumber:17,group:17,period:3,category:"halogen",electronegativity:3.16,oxidationStates:[-1,1,3,5,7],valenceElectrons:7},{symbol:"Ar",name:"Argon",atomicNumber:18,group:18,period:3,category:"noble gas",electronegativity:0,oxidationStates:[0],valenceElectrons:8},{symbol:"K",name:"Potassium",atomicNumber:19,group:1,period:4,category:"alkali metal",electronegativity:.82,oxidationStates:[1],valenceElectrons:1},{symbol:"Ca",name:"Calcium",atomicNumber:20,group:2,period:4,category:"alkaline earth metal",electronegativity:1,oxidationStates:[2],valenceElectrons:2},{symbol:"Sc",name:"Scandium",atomicNumber:21,group:3,period:4,category:"transition metal",electronegativity:1.36,oxidationStates:[3],valenceElectrons:2},{symbol:"Ti",name:"Titanium",atomicNumber:22,group:4,period:4,category:"transition metal",electronegativity:1.54,oxidationStates:[2,3,4],valenceElectrons:2},{symbol:"V",name:"Vanadium",atomicNumber:23,group:5,period:4,category:"transition metal",electronegativity:1.63,oxidationStates:[2,3,4,5],valenceElectrons:2},{symbol:"Cr",name:"Chromium",atomicNumber:24,group:6,period:4,category:"transition metal",electronegativity:1.66,oxidationStates:[2,3,6],valenceElectrons:1},{symbol:"Mn",name:"Manganese",atomicNumber:25,group:7,period:4,category:"transition metal",electronegativity:1.55,oxidationStates:[2,3,4,6,7],valenceElectrons:2},{symbol:"Fe",name:"Iron",atomicNumber:26,group:8,period:4,category:"transition metal",electronegativity:1.83,oxidationStates:[2,3],valenceElectrons:2},{symbol:"Co",name:"Cobalt",atomicNumber:27,group:9,period:4,category:"transition metal",electronegativity:1.88,oxidationStates:[2,3],valenceElectrons:2},{symbol:"Ni",name:"Nickel",atomicNumber:28,group:10,period:4,category:"transition metal",electronegativity:1.91,oxidationStates:[2],valenceElectrons:2},{symbol:"Cu",name:"Copper",atomicNumber:29,group:11,period:4,category:"transition metal",electronegativity:1.9,oxidationStates:[1,2],valenceElectrons:1},{symbol:"Zn",name:"Zinc",atomicNumber:30,group:12,period:4,category:"transition metal",electronegativity:1.65,oxidationStates:[2],valenceElectrons:2},{symbol:"Ga",name:"Gallium",atomicNumber:31,group:13,period:4,category:"post-transition metal",electronegativity:1.81,oxidationStates:[3],valenceElectrons:3},{symbol:"Ge",name:"Germanium",atomicNumber:32,group:14,period:4,category:"metalloid",electronegativity:2.01,oxidationStates:[4],valenceElectrons:4},{symbol:"As",name:"Arsenic",atomicNumber:33,group:15,period:4,category:"metalloid",electronegativity:2.18,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"Se",name:"Selenium",atomicNumber:34,group:16,period:4,category:"nonmetal",electronegativity:2.55,oxidationStates:[-2,4,6],valenceElectrons:6},{symbol:"Br",name:"Bromine",atomicNumber:35,group:17,period:4,category:"halogen",electronegativity:2.96,oxidationStates:[-1,1,3,5,7],valenceElectrons:7},{symbol:"Kr",name:"Krypton",atomicNumber:36,group:18,period:4,category:"noble gas",electronegativity:3,oxidationStates:[0,2],valenceElectrons:8},{symbol:"Rb",name:"Rubidium",atomicNumber:37,group:1,period:5,category:"alkali metal",electronegativity:.82,oxidationStates:[1],valenceElectrons:1},{symbol:"Sr",name:"Strontium",atomicNumber:38,group:2,period:5,category:"alkaline earth metal",electronegativity:.95,oxidationStates:[2],valenceElectrons:2},{symbol:"Y",name:"Yttrium",atomicNumber:39,group:3,period:5,category:"transition metal",electronegativity:1.22,oxidationStates:[3],valenceElectrons:2},{symbol:"Zr",name:"Zirconium",atomicNumber:40,group:4,period:5,category:"transition metal",electronegativity:1.33,oxidationStates:[4],valenceElectrons:2},{symbol:"Nb",name:"Niobium",atomicNumber:41,group:5,period:5,category:"transition metal",electronegativity:1.6,oxidationStates:[5],valenceElectrons:1},{symbol:"Mo",name:"Molybdenum",atomicNumber:42,group:6,period:5,category:"transition metal",electronegativity:2.16,oxidationStates:[6],valenceElectrons:1},{symbol:"Tc",name:"Technetium",atomicNumber:43,group:7,period:5,category:"transition metal",electronegativity:1.9,oxidationStates:[7],valenceElectrons:1},{symbol:"Ru",name:"Ruthenium",atomicNumber:44,group:8,period:5,category:"transition metal",electronegativity:2.2,oxidationStates:[3,4],valenceElectrons:1},{symbol:"Rh",name:"Rhodium",atomicNumber:45,group:9,period:5,category:"transition metal",electronegativity:2.28,oxidationStates:[3],valenceElectrons:1},{symbol:"Pd",name:"Palladium",atomicNumber:46,group:10,period:5,category:"transition metal",electronegativity:2.2,oxidationStates:[2,4],valenceElectrons:0},{symbol:"Ag",name:"Silver",atomicNumber:47,group:11,period:5,category:"transition metal",electronegativity:1.93,oxidationStates:[1],valenceElectrons:1},{symbol:"Cd",name:"Cadmium",atomicNumber:48,group:12,period:5,category:"transition metal",electronegativity:1.69,oxidationStates:[2],valenceElectrons:2},{symbol:"In",name:"Indium",atomicNumber:49,group:13,period:5,category:"post-transition metal",electronegativity:1.78,oxidationStates:[3],valenceElectrons:3},{symbol:"Sn",name:"Tin",atomicNumber:50,group:14,period:5,category:"post-transition metal",electronegativity:1.96,oxidationStates:[2,4],valenceElectrons:4},{symbol:"Sb",name:"Antimony",atomicNumber:51,group:15,period:5,category:"metalloid",electronegativity:2.05,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"Te",name:"Tellurium",atomicNumber:52,group:16,period:5,category:"metalloid",electronegativity:2.1,oxidationStates:[-2,4,6],valenceElectrons:6},{symbol:"I",name:"Iodine",atomicNumber:53,group:17,period:5,category:"halogen",electronegativity:2.66,oxidationStates:[-1,1,3,5,7],valenceElectrons:7},{symbol:"Xe",name:"Xenon",atomicNumber:54,group:18,period:5,category:"noble gas",electronegativity:2.6,oxidationStates:[0,2,4,6],valenceElectrons:8},{symbol:"Cs",name:"Cesium",atomicNumber:55,group:1,period:6,category:"alkali metal",electronegativity:.79,oxidationStates:[1],valenceElectrons:1},{symbol:"Ba",name:"Barium",atomicNumber:56,group:2,period:6,category:"alkaline earth metal",electronegativity:.89,oxidationStates:[2],valenceElectrons:2},{symbol:"Au",name:"Gold",atomicNumber:79,group:11,period:6,category:"transition metal",electronegativity:2.54,oxidationStates:[1,3],valenceElectrons:1},{symbol:"Pt",name:"Platinum",atomicNumber:78,group:10,period:6,category:"transition metal",electronegativity:2.28,oxidationStates:[2,4],valenceElectrons:1},{symbol:"Pb",name:"Lead",atomicNumber:82,group:14,period:6,category:"post-transition metal",electronegativity:2.33,oxidationStates:[2,4],valenceElectrons:4},{symbol:"Hg",name:"Mercury",atomicNumber:80,group:12,period:6,category:"transition metal",electronegativity:2,oxidationStates:[1,2],valenceElectrons:2},{symbol:"Rn",name:"Radon",atomicNumber:86,group:18,period:6,category:"noble gas",electronegativity:2.2,oxidationStates:[0,2],valenceElectrons:8}])this.elements.set(e.symbol,e)}loadChemistryRules(){this.database?.chemistry_rules_engine?.reactivity_rules&&(this.rules=this.database.chemistry_rules_engine.reactivity_rules)}loadEssentialCompounds(){this.database={compounds:{binary_halides:[{formula:"LiF",name:"Lithium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic"]},uses:["Flux","Optics"]},{formula:"LiCl",name:"Lithium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Desiccant","Medical"]},{formula:"LiBr",name:"Lithium Bromide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Air conditioning"]},{formula:"LiI",name:"Lithium Iodide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Electrolyte"]},{formula:"NaF",name:"Sodium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic in large doses"]},uses:["Toothpaste","Water fluoridation"]},{formula:"NaCl",name:"Sodium Chloride",properties:{state:"solid",type:"ionic compound",color:"white",melting_point:"801\xb0C",boiling_point:"1465\xb0C"},safety_data:{hazard_level:"low",warnings:[]},uses:["Table salt","Food preservation","De-icing"]},{formula:"NaBr",name:"Sodium Bromide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography","Medical sedative"]},{formula:"NaI",name:"Sodium Iodide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Medical imaging","Radiation detection"]},{formula:"KF",name:"Potassium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic"]},uses:["Flux","Etching"]},{formula:"KCl",name:"Potassium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Fertilizer","Medical uses"]},{formula:"KBr",name:"Potassium Bromide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography","Anticonvulsant"]},{formula:"KI",name:"Potassium Iodide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Radiation protection","Antiseptic"]},{formula:"MgF2",name:"Magnesium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Optics","Ceramics"]},{formula:"MgCl2",name:"Magnesium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["De-icing","Supplement"]},{formula:"CaF2",name:"Calcium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic if ingested"]},uses:["Steel production","Glass manufacturing"]},{formula:"CaCl2",name:"Calcium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["De-icing","Desiccant"]},{formula:"AgCl",name:"Silver Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography","Electrodes"]},{formula:"AgBr",name:"Silver Bromide",properties:{state:"solid",type:"ionic compound",color:"pale yellow"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography"]},{formula:"CuCl",name:"Copper(I) Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Irritant"]},uses:["Catalyst","Preservative"]},{formula:"FeCl2",name:"Iron(II) Chloride",properties:{state:"solid",type:"ionic compound",color:"green"},safety_data:{hazard_level:"medium",warnings:["Corrosive"]},uses:["Water treatment"]},{formula:"ZnCl2",name:"Zinc Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Corrosive"]},uses:["Flux","Preservative"]}],binary_oxides:[{formula:"H2O",name:"Water",properties:{state:"liquid",type:"molecular compound",color:"colorless",melting_point:"0\xb0C",boiling_point:"100\xb0C"},safety_data:{hazard_level:"none",warnings:[]},uses:["Universal solvent","Essential for life"]},{formula:"CO",name:"Carbon Monoxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Extremely toxic","Odorless poisonous gas"]},uses:["Industrial reducing agent"]},{formula:"CO2",name:"Carbon Dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"low",warnings:["Asphyxiant in high concentrations"]},uses:["Fire extinguisher","Carbonated beverages"]},{formula:"SiO2",name:"Silicon Dioxide",properties:{state:"solid",type:"covalent network",color:"white"},safety_data:{hazard_level:"low",warnings:["Dust irritant"]},uses:["Glass","Electronics"]},{formula:"Al2O3",name:"Aluminum Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Abrasives","Ceramics"]},{formula:"Fe2O3",name:"Iron(III) Oxide",properties:{state:"solid",type:"ionic compound",color:"red-brown"},safety_data:{hazard_level:"low",warnings:[]},uses:["Pigment","Iron production"]},{formula:"CuO",name:"Copper(II) Oxide",properties:{state:"solid",type:"ionic compound",color:"black"},safety_data:{hazard_level:"low",warnings:[]},uses:["Ceramics","Catalysts"]},{formula:"ZnO",name:"Zinc Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Sunscreen","Rubber"]},{formula:"MgO",name:"Magnesium Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Refractory","Antacid"]},{formula:"CaO",name:"Calcium Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Caustic","Reacts violently with water"]},uses:["Cement","Steel production"]}],hydrides:[{formula:"LiH",name:"Lithium Hydride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Reacts violently with water"]},uses:["Reducing agent"]},{formula:"NaH",name:"Sodium Hydride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Reacts violently with water"]},uses:["Reducing agent"]},{formula:"CaH2",name:"Calcium Hydride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Reacts with water"]},uses:["Desiccant","Hydrogen source"]}],acids:[{formula:"HCl",name:"Hydrogen Chloride",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Toxic vapors"]},uses:["Industrial acid","Chemical synthesis"]},{formula:"HF",name:"Hydrogen Fluoride",properties:{state:"liquid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"very high",warnings:["Extremely corrosive","Burns skin and bones"]},uses:["Etching","Industrial processes"]},{formula:"HBr",name:"Hydrogen Bromide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Toxic"]},uses:["Chemical synthesis"]},{formula:"HI",name:"Hydrogen Iodide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Toxic"]},uses:["Chemical synthesis"]},{formula:"H2S",name:"Hydrogen Sulfide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"very high",warnings:["Extremely toxic","Rotten egg odor"]},uses:["Industrial processes"]},{formula:"H2SO4",name:"Sulfuric Acid",properties:{state:"liquid",type:"molecular compound",color:"colorless",density:"1.84 g/cm\xb3"},safety_data:{hazard_level:"very high",warnings:["Extremely corrosive","Causes severe burns","Reacts violently with water"]},uses:["Industrial acid","Battery acid","Chemical synthesis"]},{formula:"H2SO3",name:"Sulfurous Acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Irritant"]},uses:["Food preservative","Bleaching agent"]},{formula:"HNO3",name:"Nitric Acid",properties:{state:"liquid",type:"molecular compound",color:"colorless to yellow"},safety_data:{hazard_level:"very high",warnings:["Extremely corrosive","Strong oxidizer","Toxic vapors"]},uses:["Fertilizer production","Explosives","Metal etching"]},{formula:"H3PO4",name:"Phosphoric Acid",properties:{state:"liquid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"medium",warnings:["Corrosive","Irritant"]},uses:["Food additive","Fertilizer","Soft drinks"]},{formula:"H2CO3",name:"Carbonic Acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"low",warnings:["Mild irritant"]},uses:["Carbonated beverages","pH buffering"]}],organic_compounds:[{formula:"CH4",name:"Methane",properties:{state:"gas",type:"organic compound",color:"colorless"},safety_data:{hazard_level:"medium",warnings:["Flammable","Asphyxiant"]},uses:["Natural gas","Fuel"]},{formula:"NH3",name:"Ammonia",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Toxic","Corrosive","Irritant"]},uses:["Fertilizer","Cleaning agent"]},{formula:"CO2",name:"Carbon Dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"low",warnings:["Asphyxiant in high concentrations"]},uses:["Fire extinguishers","Carbonated drinks","Photosynthesis"]},{formula:"SO2",name:"Sulfur Dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Toxic vapors","Respiratory irritant","Environmental pollutant"]},uses:["Food preservative","Wine making","Paper bleaching"]},{formula:"NO2",name:"Nitrogen Dioxide",properties:{state:"gas",type:"molecular compound",color:"reddish-brown"},safety_data:{hazard_level:"very high",warnings:["Highly toxic","Strong oxidizer","Respiratory damage"]},uses:["Nitric acid production","Chemical synthesis"]},{formula:"NaHCO3",name:"Sodium Bicarbonate",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"very low",warnings:[]},uses:["Baking soda","Antacid","Cleaning agent","Fire extinguisher"]},{formula:"CaCO3",name:"Calcium Carbonate",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"very low",warnings:[]},uses:["Limestone","Marble","Antacid","Construction material"]},{formula:"C2H6O",name:"Ethanol",properties:{state:"liquid",type:"organic compound",color:"colorless"},safety_data:{hazard_level:"medium",warnings:["Flammable","Intoxicating"]},uses:["Alcoholic beverages","Fuel additive","Antiseptic","Solvent"]},{formula:"C6H12O6",name:"Glucose",properties:{state:"solid",type:"organic compound",color:"white"},safety_data:{hazard_level:"very low",warnings:[]},uses:["Food sweetener","Energy source","Medical solutions","Fermentation"]}],noble_gas_compounds:[{formula:"XeF4",name:"Xenon Tetrafluoride",properties:{state:"solid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Highly reactive","Toxic"]},uses:["Research","Fluorinating agent"]},{formula:"KrF2",name:"Krypton Difluoride",properties:{state:"solid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Highly reactive","Unstable"]},uses:["Research"]}]}}}async predictCompoundWithCounts(e){for(let t of(0===this.elements.size&&(console.log("\uD83D\uDD04 Reinitializing elements database..."),this.initializeElements()),e))if(!t.symbol||"number"!=typeof t.count||t.count<=0)return{will_react:!1,confidence:.1,source:"rules_engine",reason:`Invalid element data: ${JSON.stringify(t)}`,note:"Please check element symbols and counts"};let t=e.sort((e,t)=>e.symbol.localeCompare(t.symbol)).map(e=>`${e.symbol}${e.count>1?e.count:""}`).join("-");if(this.cache.has(t))return this.cache.get(t);let r=this.generateFormulaFromCounts(e),a=this.searchDatabaseByFormula(r);if(a){let e={...a,source:"database",confidence:1};return this.cache.set(t,e),e}let o=this.applyChemistryRulesWithCounts(e);if(o.confidence>.8)return this.cache.set(t,o),o;let i=this.runMLModelWithCounts(e);if(i.confidence>.6)return this.cache.set(t,i),i;let l={will_react:!1,confidence:.85,source:"rules_engine",reason:"No favorable reaction conditions found for this stoichiometry",note:"Consider different element ratios"};return this.cache.set(t,l),l}generateFormulaFromCounts(e){if(!e||0===e.length)return console.warn("⚠️ Empty elements array passed to generateFormulaFromCounts"),"";console.log("\uD83E\uDDEA Generating formula for elements:",e);let t=e.sort((e,t)=>{let r={H:1,Li:2,Be:3,B:4,C:5,N:6,O:7,F:8,Na:9,Mg:10,Al:11,Si:12,P:13,S:14,Cl:15,K:16,Ca:17,Br:18,I:19};return(r[e.symbol]||20)-(r[t.symbol]||20)}).map(e=>1===e.count?e.symbol:`${e.symbol}${e.count}`).join("");return console.log("\uD83D\uDCDD Generated formula:",t),t}searchDatabaseByFormula(e){if(!this.database?.compounds)return null;for(let t of["binary_halides","binary_oxides","hydrides","hydroxides","acids","salts","noble_gas_compounds","organic_compounds"]){let r=this.database.compounds[t];if(!r)continue;let a=r.find(t=>t.formula===e||t.formula===this.normalizeFormula(e)||this.formulasAreEquivalent(t.formula,e));if(a)return{will_react:!0,formula:a.formula,name:a.name,properties:a.properties,safety:a.safety_data,uses:a.uses}}return null}normalizeFormula(e){return"H2O"===e||"OH2"===e?"H2O":"HO"===e||"OH"===e?"OH":e}formulasAreEquivalent(e,t){return this.normalizeFormula(e)===this.normalizeFormula(t)}applyChemistryRulesWithCounts(e){let t=this.generateFormulaFromCounts(e);if("H2O"===t)return console.log("✅ H2O detected - returning WATER (not hydroxide)"),{will_react:!0,confidence:1,formula:"H2O",name:"water",properties:{state:"liquid",type:"molecular compound",color:"colorless",melting_point:"0\xb0C",boiling_point:"100\xb0C"},safety:{hazard_level:"none",warnings:[]},uses:["Universal solvent","Essential for life","Chemical reactions"],source:"rules_engine",rule_applied:"R004 - Hydrogen compounds with oxygen",warnings:[]};if("HO"===t||"OH"===t)return{will_react:!0,confidence:.95,formula:"OH",name:"hydroxide",properties:{state:"ion",type:"ionic",color:"colorless"},safety:{hazard_level:"medium",warnings:["Basic/alkaline","Can cause burns"]},uses:["Chemical synthesis","pH adjustment"],source:"rules_engine",rule_applied:"R004 - Hydrogen-oxygen compounds",warnings:["This is typically found as part of ionic compounds like NaOH"]};if(e.length>=3)return this.handleMultiElementCompounds(e,t);if(2===e.length){let[r,a]=e;return this.isAlkaliMetal(r.symbol)&&this.isHalogen(a.symbol)?{will_react:!0,confidence:1,formula:t,name:this.getCompoundName(r.symbol,a.symbol),properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"low",warnings:[]},uses:["Industrial applications","Chemical synthesis"],source:"rules_engine",rule_applied:"R001 - Alkali metal + Halogen → Ionic salt",warnings:[]}:this.isAlkalineEarthMetal(r.symbol)&&this.isHalogen(a.symbol)?{will_react:!0,confidence:1,formula:this.getAlkalineEarthHalideFormula(r.symbol,a.symbol),name:this.getCompoundName(r.symbol,a.symbol),properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"low",warnings:[]},uses:["Industrial applications","Chemical synthesis"],source:"rules_engine",rule_applied:"R002 - Alkaline earth metal + Halogen → Ionic salt",warnings:[]}:this.applyChemistryRules(e[0].symbol,e[1].symbol)}return{will_react:!1,confidence:.3,source:"rules_engine",reason:"No specific rules for this combination"}}runMLModelWithCounts(e){let t=this.generateFormulaFromCounts(e);if(2===e.length){let[r,a]=e;if(this.isMetal(r.symbol)&&this.isNonmetal(a.symbol))return{will_react:!0,confidence:.85,formula:t,name:`${r.symbol.toLowerCase()}-${a.symbol.toLowerCase()} compound`,properties:{type:"ionic compound",state:"solid"},source:"ml_model",warnings:[]}}return{will_react:!1,confidence:.4,source:"ml_model",reason:"ML model suggests low reaction probability"}}getCompoundName(e,t){let r={Li:"lithium",Na:"sodium",K:"potassium",Rb:"rubidium",Cs:"cesium",Be:"beryllium",Mg:"magnesium",Ca:"calcium",Sr:"strontium",Ba:"barium"}[e]||e.toLowerCase(),a={F:"fluoride",Cl:"chloride",Br:"bromide",I:"iodide"}[t]||t.toLowerCase();return`${r} ${a}`}getAlkalineEarthHalideFormula(e,t){return`${e}${t}2`}isTransitionMetal(e){return["Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","Au","Pt","Hg"].includes(e)}getTransitionMetalHalideFormula(e,t){return({Fe:{Cl:"FeCl2",F:"FeF2",Br:"FeBr2",I:"FeI2"},Cu:{Cl:"CuCl",F:"CuF",Br:"CuBr",I:"CuI"},Zn:{Cl:"ZnCl2",F:"ZnF2",Br:"ZnBr2",I:"ZnI2"},Ag:{Cl:"AgCl",F:"AgF",Br:"AgBr",I:"AgI"},Au:{Cl:"AuCl3",F:"AuF3",Br:"AuBr3",I:"AuI3"}})[e]?.[t]||`${e}${t}2`}getTransitionMetalColor(e,t){return({Fe:{Cl:"green",F:"pale green",Br:"yellow-brown",I:"dark brown"},Cu:{Cl:"white",F:"white",Br:"white",I:"white"},Zn:{Cl:"white",F:"white",Br:"white",I:"white"},Ag:{Cl:"white",F:"yellow",Br:"pale yellow",I:"yellow"},Au:{Cl:"red",F:"orange",Br:"dark red",I:"dark green"}})[e]?.[t]||"colored"}getMetalSulfideFormula(e){return({Na:"Na2S",K:"K2S",Li:"Li2S",Rb:"Rb2S",Cs:"Cs2S",Mg:"MgS",Ca:"CaS",Sr:"SrS",Ba:"BaS",Al:"Al2S3",Fe:"FeS",Cu:"CuS",Zn:"ZnS",Pb:"PbS"})[e]||`${e}S`}getSulfideColor(e){return({Na:"white",K:"white",Li:"white",Mg:"white",Ca:"white",Al:"yellow",Fe:"black",Cu:"black",Zn:"white",Pb:"black"})[e]||"dark"}getOxideColor(e){return({Na:"white",K:"white",Li:"white",Mg:"white",Ca:"white",Al:"white",Fe:"red-brown",Cu:"black",Zn:"white"})[e]||"white"}getHalideNames(){return{F:"fluoride",Cl:"chloride",Br:"bromide",I:"iodide"}}getTransitionMetalOxideColor(e){return({Fe:"red-brown",Cu:"black to red",Cr:"green",Mn:"brown-black",Co:"black",Ni:"green-black",Ti:"white",V:"yellow-orange",Zn:"white",Ag:"black-brown",Au:"purple-brown",Pt:"brown-black",Pd:"black",Rh:"gray",Ir:"blue-black",Os:"brown",Ru:"blue-black",Sc:"white",Y:"white",La:"white",Ce:"pale yellow",Hf:"white",Ta:"white",W:"yellow",Re:"blue-black"})[e]||"colored"}getOxideSafety(e){return["Na","K","Li","Ca","Ba"].includes(e)?"high":"low"}getOxideWarnings(e){return["Na","K","Li","Ca","Ba"].includes(e)?["Reacts violently with water","Caustic","Can cause burns"]:[]}getHydrogenHalideName(e){return({F:"hydrogen fluoride",Cl:"hydrogen chloride",Br:"hydrogen bromide",I:"hydrogen iodide"})[e]||`hydrogen ${e.toLowerCase()}ide`}handleMultiElementCompounds(e,t){let r=e.map(e=>e.symbol).sort(),a=e.reduce((e,t)=>({...e,[t.symbol]:t.count}),{});if(r.includes("H")&&r.includes("S")&&r.includes("O")){if(2===a.H&&1===a.S&&4===a.O)return{will_react:!0,confidence:1,formula:"H2SO4",name:"sulfuric acid",properties:{state:"liquid",type:"molecular compound",color:"colorless",density:"1.84 g/cm\xb3",boiling_point:"337\xb0C"},safety:{hazard_level:"very high",warnings:["Extremely corrosive","Causes severe burns","Reacts violently with water","Toxic vapors"]},uses:["Industrial acid","Battery acid","Chemical synthesis","Fertilizer production"],source:"rules_engine",rule_applied:"R014 - Hydrogen + Sulfur + Oxygen → Sulfuric Acid",warnings:["Extremely dangerous - handle with extreme care","Always add acid to water, never water to acid"]};if(2===a.H&&1===a.S&&3===a.O)return{will_react:!0,confidence:.9,formula:"H2SO3",name:"sulfurous acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless"},safety:{hazard_level:"high",warnings:["Corrosive","Irritant","Toxic vapors"]},uses:["Food preservative","Bleaching agent","Chemical synthesis"],source:"rules_engine",rule_applied:"R015 - Hydrogen + Sulfur + Oxygen → Sulfurous Acid",warnings:["Corrosive to metals and organic matter"]}}if(r.includes("H")&&r.includes("N")&&r.includes("O")&&1===a.H&&1===a.N&&3===a.O)return{will_react:!0,confidence:1,formula:"HNO3",name:"nitric acid",properties:{state:"liquid",type:"molecular compound",color:"colorless to yellow",density:"1.41 g/cm\xb3"},safety:{hazard_level:"very high",warnings:["Extremely corrosive","Strong oxidizer","Toxic vapors","Causes severe burns"]},uses:["Fertilizer production","Explosives","Metal etching","Chemical synthesis"],source:"rules_engine",rule_applied:"R016 - Hydrogen + Nitrogen + Oxygen → Nitric Acid",warnings:["Extremely dangerous oxidizing acid","Reacts violently with organic matter"]};if(r.includes("H")&&r.includes("P")&&r.includes("O")&&3===a.H&&1===a.P&&4===a.O)return{will_react:!0,confidence:1,formula:"H3PO4",name:"phosphoric acid",properties:{state:"liquid",type:"molecular compound",color:"colorless",density:"1.87 g/cm\xb3"},safety:{hazard_level:"medium",warnings:["Corrosive","Irritant to skin and eyes"]},uses:["Food additive","Fertilizer","Rust removal","Soft drinks"],source:"rules_engine",rule_applied:"R017 - Hydrogen + Phosphorus + Oxygen → Phosphoric Acid",warnings:["Moderately corrosive"]};if(r.includes("H")&&r.includes("O")){let t=e.filter(e=>this.isMetal(e.symbol));if(1===t.length&&1===a.H&&1===a.O){let e=t[0].symbol;return{will_react:!0,confidence:.95,formula:`${e}OH`,name:`${this.elements.get(e)?.name.toLowerCase()} hydroxide`,properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"high",warnings:["Caustic","Corrosive","Can cause severe burns"]},uses:["Industrial base","Soap making","Chemical synthesis"],source:"rules_engine",rule_applied:"R018 - Metal + Oxygen + Hydrogen → Metal Hydroxide",warnings:["Highly caustic - causes chemical burns"]}}}if(r.includes("C")&&r.includes("O")){let t=e.filter(e=>this.isMetal(e.symbol));if(1===t.length&&1===a.C&&3===a.O){let e=t[0].symbol,r=this.elements.get(e)?.name.toLowerCase();return{will_react:!0,confidence:.9,formula:`${e}CO3`,name:`${r} carbonate`,properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"low",warnings:[]},uses:["Construction material","Antacid","Industrial applications"],source:"rules_engine",rule_applied:"R019 - Metal + Carbon + Oxygen → Metal Carbonate",warnings:[]}}}if(r.includes("H")&&r.includes("C")&&r.includes("O")&&2===a.H&&1===a.C&&3===a.O)return{will_react:!0,confidence:.9,formula:"H2CO3",name:"carbonic acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless",stability:"unstable in pure form"},safety:{hazard_level:"low",warnings:["Mild irritant"]},uses:["Carbonated beverages","pH buffering","Natural processes"],source:"rules_engine",rule_applied:"R020 - Hydrogen + Carbon + Oxygen → Carbonic Acid",warnings:["Decomposes easily to CO2 and H2O"]};if(r.includes("N")&&r.includes("H")&&2===r.length&&1===a.N&&3===a.H)return{will_react:!0,confidence:1,formula:"NH3",name:"ammonia",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"pungent",boiling_point:"-33.3\xb0C"},safety:{hazard_level:"high",warnings:["Toxic vapors","Caustic","Eye irritant","Flammable"]},uses:["Fertilizer production","Cleaning products","Refrigeration","Chemical synthesis"],source:"rules_engine",rule_applied:"R021 - Nitrogen + Hydrogen → Ammonia",warnings:["Highly toxic - avoid inhalation"]};if(r.includes("C")&&r.includes("H")&&2===r.length&&1===a.C&&4===a.H)return{will_react:!0,confidence:1,formula:"CH4",name:"methane",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"odorless",boiling_point:"-161.5\xb0C"},safety:{hazard_level:"medium",warnings:["Highly flammable","Asphyxiant","Greenhouse gas"]},uses:["Natural gas fuel","Heating","Chemical feedstock","Hydrogen production"],source:"rules_engine",rule_applied:"R022 - Carbon + Hydrogen → Methane",warnings:["Extremely flammable - keep away from ignition sources"]};if(r.includes("C")&&r.includes("O")&&2===r.length&&1===a.C&&2===a.O)return{will_react:!0,confidence:1,formula:"CO2",name:"carbon dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"odorless",sublimation_point:"-78.5\xb0C"},safety:{hazard_level:"low",warnings:["Asphyxiant in high concentrations","Dry ice causes frostbite"]},uses:["Carbonated beverages","Fire extinguishers","Dry ice","Photosynthesis","Industrial processes"],source:"rules_engine",rule_applied:"R023 - Carbon + Oxygen → Carbon Dioxide",warnings:["Can cause suffocation in enclosed spaces"]};if(r.includes("S")&&r.includes("O")&&2===r.length&&1===a.S&&2===a.O)return{will_react:!0,confidence:1,formula:"SO2",name:"sulfur dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"sharp, irritating",boiling_point:"-10\xb0C"},safety:{hazard_level:"high",warnings:["Toxic vapors","Respiratory irritant","Environmental pollutant","Causes acid rain"]},uses:["Food preservative","Wine making","Paper bleaching","Chemical synthesis"],source:"rules_engine",rule_applied:"R024 - Sulfur + Oxygen → Sulfur Dioxide",warnings:["Major air pollutant - toxic to humans and environment"]};if(r.includes("N")&&r.includes("O")&&2===r.length&&1===a.N&&2===a.O)return{will_react:!0,confidence:1,formula:"NO2",name:"nitrogen dioxide",properties:{state:"gas",type:"molecular compound",color:"reddish-brown",odor:"sharp, acrid",boiling_point:"21.2\xb0C"},safety:{hazard_level:"very high",warnings:["Highly toxic","Strong oxidizer","Respiratory damage","Environmental pollutant"]},uses:["Nitric acid production","Rocket fuel oxidizer","Chemical synthesis"],source:"rules_engine",rule_applied:"R025 - Nitrogen + Oxygen → Nitrogen Dioxide",warnings:["Extremely toxic - can cause severe lung damage"]};if(r.includes("Na")&&r.includes("H")&&r.includes("C")&&r.includes("O")&&1===a.Na&&1===a.H&&1===a.C&&3===a.O)return{will_react:!0,confidence:1,formula:"NaHCO3",name:"sodium bicarbonate",properties:{state:"solid",type:"ionic compound",color:"white",crystal_structure:"monoclinic",solubility:"soluble in water"},safety:{hazard_level:"very low",warnings:[]},uses:["Baking soda","Antacid","Fire extinguisher","Cleaning agent","Deodorizer"],source:"rules_engine",rule_applied:"R026 - Sodium + Hydrogen + Carbon + Oxygen → Sodium Bicarbonate",warnings:[]};if(r.includes("C")&&r.includes("H")&&r.includes("O")&&3===r.length&&2===a.C&&6===a.H&&1===a.O)return{will_react:!0,confidence:.95,formula:"C2H6O",name:"ethanol",properties:{state:"liquid",type:"molecular compound",color:"colorless",odor:"pleasant",boiling_point:"78.4\xb0C"},safety:{hazard_level:"medium",warnings:["Flammable","Intoxicating","Can cause drowsiness"]},uses:["Alcoholic beverages","Fuel additive","Antiseptic","Solvent","Chemical synthesis"],source:"rules_engine",rule_applied:"R027 - Carbon + Hydrogen + Oxygen → Ethanol",warnings:["Highly flammable - keep away from heat sources"]};if(r.includes("C")&&r.includes("H")&&r.includes("O")&&3===r.length&&6===a.C&&12===a.H&&6===a.O)return{will_react:!0,confidence:.95,formula:"C6H12O6",name:"glucose",properties:{state:"solid",type:"molecular compound",color:"white",crystal_structure:"crystalline",solubility:"highly soluble in water"},safety:{hazard_level:"very low",warnings:[]},uses:["Food sweetener","Energy source","Medical IV solutions","Fermentation"],source:"rules_engine",rule_applied:"R028 - Carbon + Hydrogen + Oxygen → Glucose",warnings:[]};let o=["Li","Na","K","Rb","Cs","Fr"],i=["F","Cl","Br","I"],l=e.find(e=>o.includes(e.symbol)),n=e.find(e=>i.includes(e.symbol));if(l&&n&&r.includes("O")&&3===r.length&&1===a[l.symbol]&&1===a[n.symbol]&&3===a.O){let e="F"===n.symbol?"fluor":"Cl"===n.symbol?"chlor":"Br"===n.symbol?"brom":"iod";return{will_react:!0,confidence:.9,formula:`${l.symbol}${n.symbol}O3`,name:`${this.elements.get(l.symbol)?.name.toLowerCase()} ${e}ate`,properties:{state:"solid",type:"ionic compound",color:"white",solubility:"highly soluble"},safety:{hazard_level:"medium",warnings:["Oxidizing agent","May cause irritation"]},uses:["Oxidizing agent","Chemical synthesis","Industrial processes"],source:"rules_engine",rule_applied:"R029 - Alkali Metal + Halogen + Oxygen → Metal Halate",warnings:["Strong oxidizer - keep away from combustible materials"]}}let s=["Be","Mg","Ca","Sr","Ba","Ra"],c=e.find(e=>s.includes(e.symbol));if(c&&n&&2===r.length&&1===a[c.symbol]&&2===a[n.symbol])return{will_react:!0,confidence:.95,formula:`${c.symbol}${n.symbol}2`,name:`${this.elements.get(c.symbol)?.name.toLowerCase()} ${this.getHalideNames()[n.symbol]}`,properties:{state:"solid",type:"ionic compound",color:"white",crystal_structure:"ionic lattice"},safety:{hazard_level:"low",warnings:["Generally safe","Avoid ingestion"]},uses:["Industrial processes","Chemical synthesis","Research"],source:"rules_engine",rule_applied:"R030 - Alkaline Earth Metal + Halogen → Metal Halide",warnings:[]};let d=["Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg"],m=e.find(e=>d.includes(e.symbol));if(m&&r.includes("O")&&2===r.length){let e=m.symbol,t=a.O,r=a[e],o="",i="";if(2===r&&3===t?(o=`${e}2O3`,i="+3"):1===r&&1===t?(o=`${e}O`,i="+2"):1===r&&2===t?(o=`${e}O2`,i="+4"):3===r&&4===t&&(o=`${e}3O4`,i="mixed"),o)return{will_react:!0,confidence:.9,formula:o,name:`${this.elements.get(e)?.name.toLowerCase()} oxide`,properties:{state:"solid",type:"ionic compound",color:this.getTransitionMetalOxideColor(e),crystal_structure:"metal oxide lattice"},safety:{hazard_level:"low",warnings:["Generally safe","May cause irritation if inhaled"]},uses:["Catalyst","Pigment","Ceramic production","Industrial processes"],source:"rules_engine",rule_applied:"R031 - Transition Metal + Oxygen → Metal Oxide",warnings:[`Metal in ${i} oxidation state`]}}let u=["La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu"],p=e.find(e=>u.includes(e.symbol));if(p&&r.includes("O")&&2===r.length&&2===a[p.symbol]&&3===a.O)return{will_react:!0,confidence:.95,formula:`${p.symbol}2O3`,name:`${this.elements.get(p.symbol)?.name.toLowerCase()} oxide`,properties:{state:"solid",type:"ionic compound",color:"varies by element",crystal_structure:"rare earth oxide structure"},safety:{hazard_level:"low",warnings:["Generally safe","Rare earth element"]},uses:["Catalysts","Phosphors","High-tech applications","Research"],source:"rules_engine",rule_applied:"R032 - Lanthanide + Oxygen → Rare Earth Oxide",warnings:["Valuable rare earth compound"]};let g=["Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr"],h=e.find(e=>g.includes(e.symbol));if(h&&r.includes("O")&&2===r.length&&1===a[h.symbol]&&2===a.O)return{will_react:!0,confidence:.9,formula:`${h.symbol}O2`,name:`${this.elements.get(h.symbol)?.name.toLowerCase()} dioxide`,properties:{state:"solid",type:"ionic compound",color:"varies by element",radioactivity:"highly radioactive"},safety:{hazard_level:"very high",warnings:["Highly radioactive","Extremely dangerous","Requires special handling","Nuclear material"]},uses:["Nuclear fuel","Research","Nuclear weapons (restricted)"],source:"rules_engine",rule_applied:"R033 - Actinide + Oxygen → Actinide Oxide",warnings:["RADIOACTIVE - Handle only in specialized facilities","Requires nuclear licensing"]};let y=["Al","Ga","In","Tl","Sn","Pb","Bi"],b=e.find(e=>y.includes(e.symbol));if(b&&n&&2===r.length){let e=b.symbol,t=n.symbol,r=a[e],o=a[t];if("Al"===e&&1===r&&3===o||"Ga"===e&&1===r&&3===o||"In"===e&&1===r&&3===o)return{will_react:!0,confidence:.95,formula:`${e}${t}3`,name:`${this.elements.get(e)?.name.toLowerCase()} ${this.getHalideNames()[t]}`,properties:{state:"solid",type:"ionic compound",color:"white to colored",crystal_structure:"ionic lattice"},safety:{hazard_level:"medium",warnings:["May cause irritation","Avoid prolonged exposure"]},uses:["Industrial processes","Chemical synthesis","Electronics"],source:"rules_engine",rule_applied:"R034 - Post-transition Metal + Halogen → Metal Halide",warnings:[]}}let x=["B","Si","Ge","As","Sb","Te"],f=e.find(e=>x.includes(e.symbol));if(f&&n&&2===r.length){let e=f.symbol,t=n.symbol,r=a[e],o=a[t];if(1===r&&(3===o||4===o))return{will_react:!0,confidence:.9,formula:`${e}${t}${o}`,name:`${this.elements.get(e)?.name.toLowerCase()} ${this.getHalideNames()[t]}`,properties:{state:4===o?"liquid":"solid",type:"covalent compound",color:"colorless to colored"},safety:{hazard_level:"high",warnings:["Toxic","Corrosive","Avoid inhalation"]},uses:["Chemical synthesis","Industrial processes","Semiconductor industry"],source:"rules_engine",rule_applied:"R035 - Metalloid + Halogen → Metalloid Halide",warnings:["Handle with caution - toxic compound"]}}let w=["He","Ne","Ar","Kr","Xe","Rn"],C=e.find(e=>w.includes(e.symbol));if(C&&r.includes("F")&&2===r.length){let e=C.symbol;if(("Xe"===e||"Kr"===e)&&1===a[e]){let t=a.F;if(2===t||4===t||6===t)return{will_react:!0,confidence:.8,formula:`${e}F${t}`,name:`${this.elements.get(e)?.name.toLowerCase()} fluoride`,properties:{state:"solid",type:"molecular compound",color:"colorless",stability:"moderately stable"},safety:{hazard_level:"very high",warnings:["Highly reactive","Toxic","Strong oxidizer","Experimental compound"]},uses:["Research","Fluorinating agent","Scientific studies"],source:"rules_engine",rule_applied:"R036 - Noble Gas + Fluorine → Noble Gas Fluoride",warnings:["Extremely rare and reactive compound","Requires specialized conditions"]}}}return{will_react:!1,confidence:.4,source:"rules_engine",reason:`Complex multi-element combination (${e.length} elements) - requires specific conditions`,note:"Try simpler binary combinations or check specific compound formulas",warnings:["Multi-element reactions often require specific conditions like catalysts, temperature, or pressure"]}}}let F=new O,H=(0,i.default)(async()=>{},{loadableGenerated:{modules:["app\\mixer\\page.tsx -> @/components/PeriodicTable"]},loading:()=>a.jsx("div",{className:"bg-gray-200 h-96 rounded-lg"}),ssr:!1});function j(){let{isSignedIn:e,isLoaded:t}=(0,l.aF)(),{elements:r}=(0,y.l)(),[i,n]=(0,o.useState)([]),[b,x]=(0,o.useState)(null),[w,C]=(0,o.useState)(!1),[v,N]=(0,o.useState)(!1),[O,j]=(0,o.useState)(null),M=e=>{let t=i.findIndex(t=>t.element.id===e.id);if(t>=0){let e=[...i];e[t].count+=1,n(e)}else n([...i,{element:e,count:1}])},$=e=>{n(i.filter(t=>t.element.id!==e))},A=(e,t)=>{if(t<=0){$(e);return}n(i.map(r=>r.element.id===e?{...r,count:t}:r))},I=_(async()=>{if(i.length<2){x({success:!1,error:"Please select at least 2 elements to mix.",suggestions:["Try adding more elements","Experiment with different combinations"]});return}C(!0);try{let e=i.map(e=>({symbol:e.element.symbol,count:e.count}));try{let t=await F.predictCompound(e);if(t.will_react){let r=[{name:"State",value:t.properties?.state||"unknown",unit:""},{name:"Type",value:t.properties?.type||"unknown",unit:""},{name:"Color",value:t.properties?.color||"unknown",unit:""}].filter(e=>e.value&&"unknown"!==e.value),a=i.map(e=>e.element.name).join("-");x({success:!0,compound:{id:`compound-${Date.now()}`,name:t.name||`${a} compound`,formula:t.formula||e.map(e=>`${e.symbol}${e.count>1?e.count:""}`).join(""),elements:i.map(e=>({element:e.element.symbol,count:e.count})),type:"compound",properties:r,description:`${t.name||"Predicted compound"} (${t.formula||"Formula predicted"})`,uses:t.uses||["Chemical synthesis","Research applications"],phase:t.properties?.state||"unknown",color:t.properties?.color||"unknown",confidence:t.confidence,source:t.source,rule_applied:t.rule_applied,safety_warnings:t.warnings}});return}{let e=i.map(e=>`${e.count>1?e.count+" ":""}${e.element.name}`).join(" + ");x({success:!1,error:t.reason||`${e} do not react under normal conditions.`,suggestions:["Try using the Smart Mode to find reactive combinations","Consider different element ratios","Learn about chemical reactivity patterns",t.note||"Check the periodic table for better combinations"],confidence:t.confidence,source:t.source});return}}catch(e){console.warn("AI prediction failed, falling back to traditional lookup:",e)}let t=i.map(e=>({symbol:e.element.symbol,name:e.element.name})),r=await f(t);if(r){let e=[{name:"State",value:r.properties.state,unit:""},{name:"Melting Point",value:r.properties.melting_point,unit:""},{name:"Boiling Point",value:r.properties.boiling_point,unit:""},{name:"Density",value:r.properties.density,unit:""}].filter(e=>e.value&&"Unknown"!==e.value);x({success:!0,compound:{id:`compound-${Date.now()}`,name:r.name,formula:r.formula,elements:i.map(e=>({element:e.element.symbol,count:e.count})),type:"compound",properties:e,description:`${r.name} (${r.formula})`,uses:r.uses,phase:r.properties.state||"unknown",color:"unknown",learnMore:r.links.wikipedia,pubchemUrl:r.links.pubchem,source:"database"}})}else{let e=t.map(e=>{var t;return t=e.name,`https://en.wikipedia.org/wiki/${encodeURIComponent(t)}`});x({success:!1,error:"No stable compound known",suggestions:e.map(e=>`Learn about elements: ${e}`)})}}catch(e){console.error("Mixing error:",e),x({success:!1,error:"Error looking up compound",suggestions:["Please try again"]})}finally{C(!1)}},300);return(r.slice(0,10),t)?e?(0,a.jsxs)("div",{className:"min-h-screen px-2 sm:px-4 md:px-6 lg:px-8 py-4 md:py-6 lg:py-8 bg-gradient-to-br from-blue-50/30 via-white/20 to-purple-50/30 dark:from-slate-900/40 dark:via-slate-800/20 dark:to-purple-900/30",children:[a.jsx("div",{className:"text-center mb-8",children:(0,a.jsxs)("div",{className:"bg-white/10 dark:bg-slate-800/30 backdrop-blur-md rounded-2xl p-8 border border-white/20 dark:border-slate-200/20 shadow-lg shadow-black/5 mx-auto max-w-4xl",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-slate-800 dark:text-slate-100 mb-3 md:mb-4 transition-all duration-300 ease-in-out",children:"Element Mixer"}),a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-slate-700 dark:text-slate-300 px-4 transition-all duration-300 ease-in-out",children:"Combine elements to create compounds and discover chemistry"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white/10 dark:bg-slate-800/30 backdrop-blur-md rounded-2xl p-3 md:p-4 lg:p-6 border border-white/20 dark:border-slate-200/20 shadow-xl shadow-black/10 transition-all duration-300 ease-in-out",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3 md:mb-4",children:[a.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-slate-800 dark:text-slate-100 transition-all duration-300 ease-in-out",children:"Select Elements"}),(0,a.jsxs)("button",{onClick:()=>{N(!v),j(null),x(null)},className:`flex items-center justify-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all duration-300 ${v?"bg-blue-500/20 text-blue-600 dark:text-blue-400 border border-blue-400/30":"bg-white/10 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300 border border-white/20 dark:border-slate-200/20 hover:bg-white/20 dark:hover:bg-slate-600/60"}`,children:[a.jsx(s,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Smart Mode"}),a.jsx("span",{className:"xs:hidden",children:"Smart"}),v&&a.jsx("span",{className:"text-xs hidden sm:inline",children:"(Active)"})]})]}),v&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-blue-50/50 dark:bg-blue-900/20 border border-blue-200/30 dark:border-blue-700/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(c,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Smart Reactivity Mode Active"})]}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:O?`Selected: ${O.name}. Click on a highlighted element to see if they react! Smart Mode stays active.`:"Click on an element to see which elements can react with it. Reactive elements will be highlighted in blue. Smart Mode stays on until you turn it off."})]}),a.jsx("div",{className:"w-full bg-white/5 dark:bg-slate-900/20 backdrop-blur-sm rounded-xl p-2 border border-white/10 dark:border-slate-200/10",children:a.jsx(H,{onElementClick:e=>{v?O?.id===e.id?j(null):O?k(O.symbol).includes(e.symbol)?(M(O),M(e),j(null)):(x({success:!1,error:`${O.name} and ${e.name} do not react under normal conditions.`,suggestions:[`Try selecting a different element that can react with ${O.name}`]}),j(e)):j(e):M(e)},selectedElementForReactivity:O,showReactivityHighlighting:v})}),v&&(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 xs:grid-cols-3 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-yellow-50/50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200/30 dark:border-yellow-700/30",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-yellow-400 rounded ring-1 sm:ring-2 ring-yellow-400 shadow-sm flex-shrink-0"}),a.jsx("span",{className:"text-yellow-800 dark:text-yellow-200 text-xs",children:"Selected"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg border border-blue-200/30 dark:border-blue-700/30",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-blue-400 rounded ring-1 sm:ring-2 ring-blue-400 shadow-sm animate-pulse flex-shrink-0"}),a.jsx("span",{className:"text-blue-800 dark:text-blue-200 text-xs",children:"Can React"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-gray-50/50 dark:bg-gray-900/20 rounded-lg border border-gray-200/30 dark:border-gray-700/30",children:[a.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-gray-400 rounded opacity-40 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"Cannot React"})]})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white/10 dark:bg-slate-800/30 backdrop-blur-md rounded-2xl p-3 md:p-4 lg:p-6 border border-white/20 dark:border-slate-200/20 shadow-xl shadow-black/10 transition-all duration-300 ease-in-out",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-slate-800 dark:text-slate-100 transition-all duration-300 ease-in-out",children:"Mixing Zone"}),(0,a.jsxs)("button",{onClick:()=>{n([]),x(null),j(null)},className:"flex items-center space-x-1 md:space-x-2 px-2 md:px-4 py-1 md:py-2 bg-white/10 dark:bg-slate-700/50 backdrop-blur-sm border border-white/20 dark:border-slate-200/20 hover:bg-white/20 dark:hover:bg-slate-600/60 rounded-2xl text-sm md:text-base text-slate-800 dark:text-slate-100 transition-all duration-300 ease-in-out shadow-md",children:[a.jsx(d,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]}),(0,a.jsxs)("div",{className:"mb-4 md:mb-6",children:[a.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 dark:text-slate-100 mb-2 md:mb-3 transition-colors duration-300",children:"Selected Elements"}),0===i.length?(0,a.jsxs)("div",{className:"text-center py-6 md:py-8 text-gray-500 dark:text-slate-400 transition-colors duration-300",children:[a.jsx(m.Z,{className:"h-8 w-8 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 opacity-50"}),a.jsx("p",{className:"text-sm md:text-base",children:"No elements selected"}),a.jsx("p",{className:"text-xs md:text-sm",children:"Click on elements to add them to the mixer"})]}):a.jsx("div",{className:"space-y-2 md:space-y-3",children:i.map(({element:e,count:t})=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 md:p-3 bg-gray-50 dark:bg-slate-700 rounded-lg transition-colors duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded flex items-center justify-center text-white font-bold text-sm md:text-base",style:{backgroundColor:e.color},children:e.symbol}),v&&i.length>1&&a.jsx("div",{className:"absolute -top-1 -right-1",children:S(e.symbol,i.find(t=>t.element.id!==e.id)?.element.symbol||"")?a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse",title:"Can react"}):a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full",title:"Cannot react"})})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-slate-100 text-sm md:text-base transition-colors duration-300",children:e.name}),(0,a.jsxs)("div",{className:"text-xs md:text-sm text-gray-600 dark:text-slate-300 transition-colors duration-300",children:["Atomic Number: ",e.atomicNumber]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 md:space-x-2",children:[a.jsx("button",{onClick:()=>A(e.id,t-1),className:"p-1 hover:bg-gray-200 dark:hover:bg-slate-600 rounded text-gray-900 dark:text-slate-100 transition-colors duration-300",title:`Decrease ${e.name} count`,"aria-label":`Decrease ${e.name} count`,children:a.jsx(u,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-100 min-w-[1.5rem] md:min-w-[2rem] text-center text-sm md:text-base transition-colors duration-300",children:t}),a.jsx("button",{onClick:()=>A(e.id,t+1),className:"p-1 hover:bg-gray-200 dark:hover:bg-slate-600 rounded text-gray-900 dark:text-slate-100 transition-colors duration-300",title:`Increase ${e.name} count`,"aria-label":`Increase ${e.name} count`,children:a.jsx(p,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx("button",{onClick:()=>$(e.id),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 rounded ml-1 md:ml-2 transition-colors duration-300",title:`Remove ${e.name} from mixture`,"aria-label":`Remove ${e.name} from mixture`,children:a.jsx(u,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]},e.id))})]}),a.jsx("div",{className:"mb-4 md:mb-6",children:a.jsx("button",{onClick:I,disabled:i.length<2||w,className:"w-full flex items-center justify-center space-x-2 py-2 md:py-3 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 disabled:bg-gray-300 dark:disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-lg text-sm md:text-base transition-colors duration-300",children:w?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin h-4 w-4 md:h-5 md:w-5 border-2 border-white border-t-transparent rounded-full"}),a.jsx("span",{children:"Mixing..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(g.Z,{className:"h-4 w-4 md:h-5 md:w-5"}),a.jsx("span",{children:"Mix Elements"})]})})}),b&&(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-slate-600 pt-6 transition-colors duration-300",children:[a.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 dark:text-slate-100 mb-3 md:mb-4 transition-colors duration-300",children:"Mixing Result"}),b.success?(0,a.jsxs)("div",{className:"space-y-4",children:[b.compound&&(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 md:p-4 transition-colors duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx(m.Z,{className:"h-3 w-3 md:h-5 md:w-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base md:text-lg font-semibold text-green-900 dark:text-green-100 transition-colors duration-300",children:b.compound.name}),a.jsx("p",{className:"text-green-700 dark:text-green-300 font-mono text-sm md:text-base transition-colors duration-300",children:b.compound.formula})]})]}),(b.compound.confidence||b.compound.source)&&(0,a.jsxs)("div",{className:"text-right",children:[b.compound.confidence&&(0,a.jsxs)("div",{className:"text-xs text-green-600 dark:text-green-400",children:[Math.round(100*b.compound.confidence),"% confidence"]}),b.compound.source&&a.jsx("div",{className:"text-xs text-green-500 dark:text-green-500 capitalize",children:b.compound.source.replace("_"," ")})]})]}),a.jsx("p",{className:"text-green-800 dark:text-green-200 mb-2 md:mb-3 text-sm md:text-base transition-colors duration-300",children:b.compound.description}),b.compound.rule_applied&&a.jsx("div",{className:"mb-3 p-2 bg-blue-50/50 dark:bg-blue-900/20 border border-blue-200/30 dark:border-blue-700/30 rounded",children:(0,a.jsxs)("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[a.jsx("strong",{children:"AI Rule Applied:"})," ",b.compound.rule_applied]})}),b.compound.safety_warnings&&b.compound.safety_warnings.length>0&&a.jsx("div",{className:"mb-3 p-2 bg-red-50/50 dark:bg-red-900/20 border border-red-200/30 dark:border-red-700/30 rounded",children:(0,a.jsxs)("div",{className:"text-xs text-red-700 dark:text-red-300",children:[a.jsx("strong",{children:"Safety Warnings:"}),a.jsx("ul",{className:"list-disc list-inside mt-1",children:b.compound.safety_warnings.map((e,t)=>a.jsx("li",{children:e},t))})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4 text-xs md:text-sm mb-3 md:mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Formula:"})," ",a.jsx("span",{className:"font-mono",children:b.compound.formula})]}),(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Type:"})," ",b.compound.type]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[a.jsx("strong",{children:"Phase:"})," ",b.compound.phase]})]}),b.compound.properties&&b.compound.properties.length>0&&(0,a.jsxs)("div",{className:"mb-3 md:mb-4",children:[a.jsx("h5",{className:"font-medium text-green-900 dark:text-green-100 mb-1 md:mb-2 text-sm md:text-base transition-colors duration-300",children:"Properties:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 md:gap-2 text-xs md:text-sm",children:b.compound.properties.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:[e.name,":"]})," ",e.value," ",e.unit]},t))})]}),(b.compound.learnMore||b.compound.pubchemUrl)&&(0,a.jsxs)("div",{className:"border-t border-green-200 dark:border-green-700 pt-3 md:pt-4 transition-colors duration-300",children:[a.jsx("h5",{className:"font-medium text-green-900 dark:text-green-100 mb-1 md:mb-2 text-sm md:text-base transition-colors duration-300",children:"Learn More:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 md:gap-2",children:[b.compound.learnMore&&a.jsx("a",{href:b.compound.learnMore,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 md:px-3 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 rounded-full text-xs md:text-sm hover:bg-green-200 dark:hover:bg-green-700 transition-colors duration-300",children:"Wikipedia"}),b.compound.pubchemUrl&&a.jsx("a",{href:b.compound.pubchemUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 md:px-3 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded-full text-xs md:text-sm hover:bg-blue-200 dark:hover:bg-blue-700 transition-colors duration-300",children:"PubChem"})]})]})]}),b.reaction&&(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 transition-colors duration-300",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2 transition-colors duration-300",children:"Chemical Reaction"}),a.jsx("p",{className:"font-mono text-blue-800 dark:text-blue-200 transition-colors duration-300",children:b.reaction.equation}),(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2 transition-colors duration-300",children:["Type: ",b.reaction.type]})]})]}):(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 transition-colors duration-300",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(h,{className:"h-5 w-5 text-red-500 dark:text-red-400"}),a.jsx("h4",{className:"text-lg font-semibold text-red-900 dark:text-red-100 transition-colors duration-300",children:"Mixing Failed"})]}),(b.confidence||b.source)&&(0,a.jsxs)("div",{className:"text-right",children:[b.confidence&&(0,a.jsxs)("div",{className:"text-xs text-red-600 dark:text-red-400",children:[Math.round(100*b.confidence),"% confidence"]}),b.source&&a.jsx("div",{className:"text-xs text-red-500 dark:text-red-500 capitalize",children:b.source.replace("_"," ")})]})]}),a.jsx("p",{className:"text-red-800 dark:text-red-200 mb-3 transition-colors duration-300",children:b.error}),b.suggestions&&(0,a.jsxs)("div",{children:[a.jsx("h5",{className:"font-medium text-red-900 dark:text-red-100 mb-2 transition-colors duration-300",children:"Suggestions:"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 dark:text-red-300 transition-colors duration-300",children:b.suggestions.map((e,t)=>a.jsx("li",{children:e},t))})]})]})]})]})})]}),a.jsx("div",{className:"mt-8",children:(0,a.jsxs)("div",{className:"bg-white/10 dark:bg-slate-800/30 backdrop-blur-md rounded-2xl p-6 border border-white/20 dark:border-slate-200/20 shadow-xl shadow-black/10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"How Smart Mode Works"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"p-3 sm:p-4 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg border border-blue-200/30 dark:border-blue-700/30",children:[a.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2 text-sm sm:text-base",children:"Highly Reactive Elements"}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-xs mb-2",children:"Alkali metals (Na, K, Li) and halogens (F, Cl, Br, I) react with many elements."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded text-xs",children:"Na"}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded text-xs",children:"Cl"}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded text-xs",children:"F"})]})]}),(0,a.jsxs)("div",{className:"p-3 sm:p-4 bg-green-50/50 dark:bg-green-900/20 rounded-lg border border-green-200/30 dark:border-green-700/30",children:[a.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100 mb-2 text-sm sm:text-base",children:"Common Reactions"}),a.jsx("p",{className:"text-green-700 dark:text-green-300 text-xs mb-2",children:"Hydrogen + Oxygen → Water, Sodium + Chlorine → Salt"}),(0,a.jsxs)("div",{className:"text-xs font-mono text-green-600 dark:text-green-400 space-y-1",children:[a.jsx("div",{children:"H + O → H₂O"}),a.jsx("div",{children:"Na + Cl → NaCl"})]})]}),(0,a.jsxs)("div",{className:"p-3 sm:p-4 bg-gray-50/50 dark:bg-gray-900/20 rounded-lg border border-gray-200/30 dark:border-gray-700/30 sm:col-span-2 lg:col-span-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2 text-sm sm:text-base",children:"Noble Gases"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xs mb-2",children:"He, Ne, Ar, Kr, Xe, Rn rarely react due to stable electron configuration."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded text-xs",children:"He"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded text-xs",children:"Ne"}),a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded text-xs",children:"Ar"})]})]})]})]})})]}):a.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center bg-gradient-to-br from-blue-50/30 via-white/20 to-purple-50/30 dark:from-slate-900/40 dark:via-slate-800/20 dark:to-purple-900/30 px-4",children:(0,a.jsxs)("div",{className:"bg-white/10 dark:bg-slate-800/30 backdrop-blur-md rounded-2xl p-12 border border-white/20 dark:border-slate-200/20 shadow-xl shadow-black/10",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-slate-100 transition-all duration-300 ease-in-out",children:"Sign in to use the Element Mixer"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-6 transition-all duration-300 ease-in-out",children:"You need to be signed in to mix elements and create compounds."}),a.jsx(l.$d,{mode:"modal",children:a.jsx("button",{className:"bg-gradient-to-r from-blue-500/30 to-purple-500/30 dark:from-blue-600/40 dark:to-purple-600/40 backdrop-blur-sm border border-white/30 dark:border-slate-200/30 text-slate-800 dark:text-slate-100 px-8 py-3 rounded-2xl hover:from-blue-500/50 hover:to-purple-500/50 dark:hover:from-blue-600/60 dark:hover:to-purple-600/60 transition-all duration-300 ease-in-out shadow-lg hover:shadow-xl shadow-blue-500/20",children:"Sign In"})})]})}):a.jsx("div",{className:"flex items-center justify-center min-h-[60vh] text-gray-900 dark:text-slate-100 transition-colors duration-300",children:"Loading..."})}},8074:(e,t,r)=>{"use strict";r.d(t,{l:()=>l});var a=r(551),o=r(5251),i=r(1939);let l=(0,a.Ue)()((0,o.tJ)((e,t)=>({elements:i.D8,selectedElement:null,searchQuery:"",selectedCategory:null,favorites:[],setSelectedElement:t=>e({selectedElement:t}),setSearchQuery:t=>e({searchQuery:t}),setSelectedCategory:t=>e({selectedCategory:t}),toggleFavorite:t=>e(e=>({favorites:e.favorites.includes(t)?e.favorites.filter(e=>e!==t):[...e.favorites,t]})),clearAllFavorites:()=>e(()=>({favorites:[]})),getFilteredElements:()=>{let{elements:e,searchQuery:r,selectedCategory:a}=t();return e.filter(e=>{let t=!r||e.name.toLowerCase().includes(r.toLowerCase())||e.symbol.toLowerCase().includes(r.toLowerCase())||e.atomicNumber.toString().includes(r),o=!a||e.category===a;return t&&o})},getElementById:e=>{let{elements:r}=t();return r.find(t=>t.id===e)},getElementBySymbol:e=>{let{elements:r}=t();return r.find(t=>t.symbol===e)}}),{name:"element-store",partialize:e=>({favorites:e.favorites,selectedCategory:e.selectedCategory})}))},3662:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\swapn\Desktop\Projects\Chemcraft\chemcraft\src\app\mixer\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[244,207,432,939],()=>r(3574));module.exports=a})();