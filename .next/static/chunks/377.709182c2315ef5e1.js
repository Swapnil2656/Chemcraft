"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{6377:function(e,o,a){a.r(o),a.d(o,{chemCraftAI:function(){return t}});class i{async predictCompound(e,o){if(Array.isArray(e))return this.predictCompoundWithCounts(e);if(o)return this.predictBinaryCompound(e,o);throw Error("Invalid input format for predictCompound")}async predictBinaryCompound(e,o){let a=this.getCacheKey(e,o);if(this.cache.has(a))return this.cache.get(a);let i=this.searchDatabase(e,o);if(i){let e={...i,source:"database",confidence:1};return this.cache.set(a,e),e}try{let i=await this.fetchFromPubChem(e,o);if(i.will_react)return this.cache.set(a,i),i}catch(e){}let t=this.applyChemistryRules(e,o);if(t.confidence>.8)return this.cache.set(a,t),t;let r=this.runMLModel(e,o);if(r.confidence>.6)return this.cache.set(a,r),r;let n={will_react:!1,confidence:.9,source:"rules_engine",reason:"No favorable reaction conditions found"};return this.cache.set(a,n),n}applyChemistryRules(e,o){let a=this.elements.get(e),i=this.elements.get(o);return a&&i?this.isAlkaliMetal(e)&&this.isHalogen(o)?{will_react:!0,confidence:1,formula:"".concat(e).concat(o),name:"".concat(a.name," ").concat(this.getHalideIonName(o)),properties:{state:"solid",color:"white",type:"ionic",crystal_structure:"cubic"},safety:{hazard_level:"safe",handling:"standard"},uses:["Food seasoning (if NaCl)","De-icing agent","Chemical synthesis","Water treatment"],source:"rules_engine",rule_applied:"R001: Alkali Metal + Halogen",warnings:["Violent reaction during formation"]}:this.isAlkalineEarthMetal(e)&&this.isHalogen(o)?{will_react:!0,confidence:.95,formula:"".concat(e).concat(o,"2"),name:"".concat(a.name," ").concat(this.getHalideIonName(o)),properties:{state:"solid",type:"ionic"},source:"rules_engine",rule_applied:"R002: Alkaline Earth + Halogen"}:this.isMetal(e)&&"O"===o&&!["Au","Pt","Ag"].includes(e)?{will_react:!0,confidence:.85,formula:this.calculateOxideFormula(e),name:"".concat(a.name," oxide"),properties:{state:"solid",type:"ionic_oxide",color:this.predictOxideColor(e)},source:"rules_engine",rule_applied:"R003: Metal + Oxygen"}:"H"===e&&this.isNonmetal(o)?this.predictHydrogenCompound(o):["He","Ne","Ar","Kr"].includes(e)||["He","Ne","Ar","Kr"].includes(o)?{will_react:!1,confidence:1,source:"rules_engine",rule_applied:"R005: Noble Gas Inertness",reason:"Noble gases are chemically inert"}:"Xe"===e&&"F"===o||"F"===e&&"Xe"===o?{will_react:!0,confidence:.7,formula:"XeF2",name:"Xenon difluoride",properties:{state:"solid",color:"colorless",stability:"metastable"},source:"rules_engine",rule_applied:"R006: Noble Gas Exception",warnings:["Requires extreme conditions","Highly reactive compound"]}:this.isTransitionMetal(e)&&this.isTransitionMetal(o)?{will_react:!1,confidence:.85,source:"rules_engine",rule_applied:"R007: Metal-Metal Alloy",reason:"Forms metallic mixture (alloy), not chemical compound",note:"May form intermetallic compounds under specific conditions"}:this.isTransitionMetal(e)&&this.isHalogen(o)?{will_react:!0,confidence:.9,formula:this.getTransitionMetalHalideFormula(e,o),name:"".concat(null==a?void 0:a.name," ").concat(this.getHalideIonName(o)),properties:{state:"solid",type:"ionic compound",color:this.getTransitionMetalColor(e,o)},safety:{hazard_level:"medium",warnings:["May be toxic","Handle with care"]},uses:["Catalysts","Chemical synthesis","Research"],source:"rules_engine",rule_applied:"R008: Transition Metal + Halogen",warnings:[]}:"C"===e&&"H"===o||"H"===e&&"C"===o?{will_react:!0,confidence:.95,formula:"CH4",name:"methane",properties:{state:"gas",type:"organic compound",color:"colorless"},safety:{hazard_level:"medium",warnings:["Flammable gas","Asphyxiant in high concentrations"]},uses:["Natural gas","Fuel","Chemical feedstock"],source:"rules_engine",rule_applied:"R009: Carbon + Hydrogen → Simple Hydrocarbon",warnings:["Highly flammable"]}:this.isMetal(e)&&"S"===o?{will_react:!0,confidence:.9,formula:this.getMetalSulfideFormula(e),name:"".concat(null==a?void 0:a.name," sulfide"),properties:{state:"solid",type:"ionic compound",color:this.getSulfideColor(e)},safety:{hazard_level:"medium",warnings:["May release toxic H2S gas when wet"]},uses:["Semiconductors","Pigments","Metallurgy"],source:"rules_engine",rule_applied:"R010: Metal + Sulfur → Metal Sulfide",warnings:[]}:"N"===e&&"H"===o||"H"===e&&"N"===o?{will_react:!0,confidence:.85,formula:"NH3",name:"ammonia",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety:{hazard_level:"high",warnings:["Toxic gas","Corrosive","Irritant to eyes and respiratory system"]},uses:["Fertilizer production","Cleaning agent","Refrigerant"],source:"rules_engine",rule_applied:"R011: Nitrogen + Hydrogen → Ammonia",warnings:["Requires high pressure and temperature","Toxic vapors"]}:"C"===e&&"O"===o||"O"===e&&"C"===o?{will_react:!0,confidence:.95,formula:"CO2",name:"carbon dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety:{hazard_level:"low",warnings:["Asphyxiant in high concentrations"]},uses:["Fire extinguisher","Carbonated beverages","Dry ice"],source:"rules_engine",rule_applied:"R012: Carbon + Oxygen → Carbon Dioxide",warnings:[]}:"Si"===e&&"O"===o||"O"===e&&"Si"===o?{will_react:!0,confidence:1,formula:"SiO2",name:"silicon dioxide",properties:{state:"solid",type:"covalent network",color:"white"},safety:{hazard_level:"low",warnings:["Dust may cause respiratory irritation"]},uses:["Glass manufacturing","Electronics","Ceramics"],source:"rules_engine",rule_applied:"R013: Silicon + Oxygen → Silicon Dioxide",warnings:[]}:{will_react:!1,confidence:.3,source:"rules_engine",reason:"No applicable chemistry rule found"}:{will_react:!1,confidence:0,source:"rules_engine"}}runMLModel(e,o){let a=this.elements.get(e),i=this.elements.get(o);if(!a||!i)return{will_react:!1,confidence:0,source:"ml_model"};let t=this.extractFeatures(a,i),r=this.simulateMLPrediction(t);return{will_react:r.probability>.6,confidence:r.probability,formula:r.formula,source:"ml_model",properties:r.properties}}async fetchFromPubChem(e,o){for(let a of this.generateFormulaPatterns(e,o))try{let e=await fetch("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/fastformula/".concat(a,"/JSON"),{headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(e.ok){let o=await e.json();if(o.PC_Compounds&&o.PC_Compounds.length>0)return this.parsePubChemData(o.PC_Compounds[0],a)}}catch(e){continue}return{will_react:!1,confidence:0,source:"pubchem_api"}}isAlkaliMetal(e){return["Li","Na","K","Rb","Cs","Fr"].includes(e)}isAlkalineEarthMetal(e){return["Be","Mg","Ca","Sr","Ba","Ra"].includes(e)}isHalogen(e){return["F","Cl","Br","I","At"].includes(e)}isMetal(e){let o=this.elements.get(e);return(null==o?void 0:o.category.includes("metal"))||!1}isNonmetal(e){let o=this.elements.get(e);return(null==o?void 0:o.category)==="nonmetals"}getHalideIonName(e){return({F:"Fluoride",Cl:"Chloride",Br:"Bromide",I:"Iodide",At:"Astatide"})[e]||"halide"}calculateOxideFormula(e){let o=this.elements.get(e);if(!o)return"".concat(e,"O");let a=o.oxidationStates[0]||2;return 1===a?"".concat(e,"2O"):2===a?"".concat(e,"O"):3===a?"".concat(e,"2O3"):4===a?"".concat(e,"O2"):"".concat(e,"O")}predictOxideColor(e){return({Fe:"reddish-brown",Cu:"black",Cr:"green",Mn:"brown",Ni:"green",Co:"black",Ti:"white",Al:"white",Zn:"white",Mg:"white",Ca:"white"})[e]||"white"}predictHydrogenCompound(e){let o={O:{formula:"H2O",name:"Water",confidence:1,properties:{state:"liquid",color:"colorless"},uses:["Universal solvent","Drinking water","Chemical reactions"]},S:{formula:"H2S",name:"Hydrogen sulfide",confidence:.9,properties:{state:"gas",color:"colorless",odor:"rotten eggs"},warnings:["Toxic gas","Flammable"]},N:{formula:"NH3",name:"Ammonia",confidence:.9,properties:{state:"gas",color:"colorless",odor:"pungent"},uses:["Fertilizer","Cleaning products","Refrigeration"]},Cl:{formula:"HCl",name:"Hydrogen chloride",confidence:.95,properties:{state:"gas",color:"colorless"},warnings:["Corrosive","Forms hydrochloric acid in water"]}}[e];return o?{will_react:!0,source:"rules_engine",rule_applied:"R004: Hydrogen + Nonmetal",...o}:{will_react:!1,confidence:.4,source:"rules_engine"}}extractFeatures(e,o){return[Math.abs(e.electronegativity-o.electronegativity),e.atomicNumber+o.atomicNumber,this.getGroupCompatibility(e,o),Math.abs(e.period-o.period),this.isMetalNonmetalPair(e,o)?1:0,e.valenceElectrons+o.valenceElectrons,this.calculateIonicPotential(e,o)]}simulateMLPrediction(e){let[o,a,i,t,r,n,l]=e,s=.5;return r&&(s+=.2),o>1.5&&(s+=.15),(10===a||18===a||36===a)&&(s=.05),{probability:Math.min(.95,Math.max(.05,s+=.1*i)),formula:"predicted",properties:{predicted:!0}}}getGroupCompatibility(e,o){return 1===e.group&&17===o.group||17===e.group&&1===o.group?1:2===e.group&&17===o.group||17===e.group&&2===o.group?.9:.3}isMetalNonmetalPair(e,o){return this.isMetal(e.symbol)!==this.isMetal(o.symbol)}calculateIonicPotential(e,o){return Math.abs(e.electronegativity-o.electronegativity)/4}generateFormulaPatterns(e,o){return["".concat(e).concat(o),"".concat(o).concat(e),"".concat(e,"2").concat(o),"".concat(e).concat(o,"2"),"".concat(e,"2").concat(o,"3"),"".concat(e,"3").concat(o,"2")]}parsePubChemData(e,o){var a,i,t,r,n;return{will_react:!0,confidence:1,formula:o,name:(null===(t=e.props)||void 0===t?void 0:null===(i=t.find(e=>"IUPAC Name"===e.urn.label))||void 0===i?void 0:null===(a=i.value)||void 0===a?void 0:a.sval)||"Unknown",source:"pubchem_api",properties:{verified:!0,pubchem_cid:null===(n=e.id)||void 0===n?void 0:null===(r=n.id)||void 0===r?void 0:r.cid}}}searchDatabase(e,o){return null}getCacheKey(e,o){return[e,o].sort().join("-")}async loadDatabase(){this.loadEssentialCompounds();try{let e=await fetch("/data/chemcraft-complete-database-550.json"),o=await e.json();this.database={...this.database,...o}}catch(e){}}initializeElements(){for(let e of[{symbol:"H",name:"Hydrogen",atomicNumber:1,group:1,period:1,category:"nonmetal",electronegativity:2.2,oxidationStates:[1,-1],valenceElectrons:1},{symbol:"He",name:"Helium",atomicNumber:2,group:18,period:1,category:"noble gas",electronegativity:0,oxidationStates:[0],valenceElectrons:2},{symbol:"Li",name:"Lithium",atomicNumber:3,group:1,period:2,category:"alkali metal",electronegativity:.98,oxidationStates:[1],valenceElectrons:1},{symbol:"Be",name:"Beryllium",atomicNumber:4,group:2,period:2,category:"alkaline earth metal",electronegativity:1.57,oxidationStates:[2],valenceElectrons:2},{symbol:"B",name:"Boron",atomicNumber:5,group:13,period:2,category:"metalloid",electronegativity:2.04,oxidationStates:[3],valenceElectrons:3},{symbol:"C",name:"Carbon",atomicNumber:6,group:14,period:2,category:"nonmetal",electronegativity:2.55,oxidationStates:[4,-4,2],valenceElectrons:4},{symbol:"N",name:"Nitrogen",atomicNumber:7,group:15,period:2,category:"nonmetal",electronegativity:3.04,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"O",name:"Oxygen",atomicNumber:8,group:16,period:2,category:"nonmetal",electronegativity:3.44,oxidationStates:[-2],valenceElectrons:6},{symbol:"F",name:"Fluorine",atomicNumber:9,group:17,period:2,category:"halogen",electronegativity:3.98,oxidationStates:[-1],valenceElectrons:7},{symbol:"Ne",name:"Neon",atomicNumber:10,group:18,period:2,category:"noble gas",electronegativity:0,oxidationStates:[0],valenceElectrons:8},{symbol:"Na",name:"Sodium",atomicNumber:11,group:1,period:3,category:"alkali metal",electronegativity:.93,oxidationStates:[1],valenceElectrons:1},{symbol:"Mg",name:"Magnesium",atomicNumber:12,group:2,period:3,category:"alkaline earth metal",electronegativity:1.31,oxidationStates:[2],valenceElectrons:2},{symbol:"Al",name:"Aluminum",atomicNumber:13,group:13,period:3,category:"post-transition metal",electronegativity:1.61,oxidationStates:[3],valenceElectrons:3},{symbol:"Si",name:"Silicon",atomicNumber:14,group:14,period:3,category:"metalloid",electronegativity:1.9,oxidationStates:[4,-4],valenceElectrons:4},{symbol:"P",name:"Phosphorus",atomicNumber:15,group:15,period:3,category:"nonmetal",electronegativity:2.19,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"S",name:"Sulfur",atomicNumber:16,group:16,period:3,category:"nonmetal",electronegativity:2.58,oxidationStates:[-2,4,6],valenceElectrons:6},{symbol:"Cl",name:"Chlorine",atomicNumber:17,group:17,period:3,category:"halogen",electronegativity:3.16,oxidationStates:[-1,1,3,5,7],valenceElectrons:7},{symbol:"Ar",name:"Argon",atomicNumber:18,group:18,period:3,category:"noble gas",electronegativity:0,oxidationStates:[0],valenceElectrons:8},{symbol:"K",name:"Potassium",atomicNumber:19,group:1,period:4,category:"alkali metal",electronegativity:.82,oxidationStates:[1],valenceElectrons:1},{symbol:"Ca",name:"Calcium",atomicNumber:20,group:2,period:4,category:"alkaline earth metal",electronegativity:1,oxidationStates:[2],valenceElectrons:2},{symbol:"Sc",name:"Scandium",atomicNumber:21,group:3,period:4,category:"transition metal",electronegativity:1.36,oxidationStates:[3],valenceElectrons:2},{symbol:"Ti",name:"Titanium",atomicNumber:22,group:4,period:4,category:"transition metal",electronegativity:1.54,oxidationStates:[2,3,4],valenceElectrons:2},{symbol:"V",name:"Vanadium",atomicNumber:23,group:5,period:4,category:"transition metal",electronegativity:1.63,oxidationStates:[2,3,4,5],valenceElectrons:2},{symbol:"Cr",name:"Chromium",atomicNumber:24,group:6,period:4,category:"transition metal",electronegativity:1.66,oxidationStates:[2,3,6],valenceElectrons:1},{symbol:"Mn",name:"Manganese",atomicNumber:25,group:7,period:4,category:"transition metal",electronegativity:1.55,oxidationStates:[2,3,4,6,7],valenceElectrons:2},{symbol:"Fe",name:"Iron",atomicNumber:26,group:8,period:4,category:"transition metal",electronegativity:1.83,oxidationStates:[2,3],valenceElectrons:2},{symbol:"Co",name:"Cobalt",atomicNumber:27,group:9,period:4,category:"transition metal",electronegativity:1.88,oxidationStates:[2,3],valenceElectrons:2},{symbol:"Ni",name:"Nickel",atomicNumber:28,group:10,period:4,category:"transition metal",electronegativity:1.91,oxidationStates:[2],valenceElectrons:2},{symbol:"Cu",name:"Copper",atomicNumber:29,group:11,period:4,category:"transition metal",electronegativity:1.9,oxidationStates:[1,2],valenceElectrons:1},{symbol:"Zn",name:"Zinc",atomicNumber:30,group:12,period:4,category:"transition metal",electronegativity:1.65,oxidationStates:[2],valenceElectrons:2},{symbol:"Ga",name:"Gallium",atomicNumber:31,group:13,period:4,category:"post-transition metal",electronegativity:1.81,oxidationStates:[3],valenceElectrons:3},{symbol:"Ge",name:"Germanium",atomicNumber:32,group:14,period:4,category:"metalloid",electronegativity:2.01,oxidationStates:[4],valenceElectrons:4},{symbol:"As",name:"Arsenic",atomicNumber:33,group:15,period:4,category:"metalloid",electronegativity:2.18,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"Se",name:"Selenium",atomicNumber:34,group:16,period:4,category:"nonmetal",electronegativity:2.55,oxidationStates:[-2,4,6],valenceElectrons:6},{symbol:"Br",name:"Bromine",atomicNumber:35,group:17,period:4,category:"halogen",electronegativity:2.96,oxidationStates:[-1,1,3,5,7],valenceElectrons:7},{symbol:"Kr",name:"Krypton",atomicNumber:36,group:18,period:4,category:"noble gas",electronegativity:3,oxidationStates:[0,2],valenceElectrons:8},{symbol:"Rb",name:"Rubidium",atomicNumber:37,group:1,period:5,category:"alkali metal",electronegativity:.82,oxidationStates:[1],valenceElectrons:1},{symbol:"Sr",name:"Strontium",atomicNumber:38,group:2,period:5,category:"alkaline earth metal",electronegativity:.95,oxidationStates:[2],valenceElectrons:2},{symbol:"Y",name:"Yttrium",atomicNumber:39,group:3,period:5,category:"transition metal",electronegativity:1.22,oxidationStates:[3],valenceElectrons:2},{symbol:"Zr",name:"Zirconium",atomicNumber:40,group:4,period:5,category:"transition metal",electronegativity:1.33,oxidationStates:[4],valenceElectrons:2},{symbol:"Nb",name:"Niobium",atomicNumber:41,group:5,period:5,category:"transition metal",electronegativity:1.6,oxidationStates:[5],valenceElectrons:1},{symbol:"Mo",name:"Molybdenum",atomicNumber:42,group:6,period:5,category:"transition metal",electronegativity:2.16,oxidationStates:[6],valenceElectrons:1},{symbol:"Tc",name:"Technetium",atomicNumber:43,group:7,period:5,category:"transition metal",electronegativity:1.9,oxidationStates:[7],valenceElectrons:1},{symbol:"Ru",name:"Ruthenium",atomicNumber:44,group:8,period:5,category:"transition metal",electronegativity:2.2,oxidationStates:[3,4],valenceElectrons:1},{symbol:"Rh",name:"Rhodium",atomicNumber:45,group:9,period:5,category:"transition metal",electronegativity:2.28,oxidationStates:[3],valenceElectrons:1},{symbol:"Pd",name:"Palladium",atomicNumber:46,group:10,period:5,category:"transition metal",electronegativity:2.2,oxidationStates:[2,4],valenceElectrons:0},{symbol:"Ag",name:"Silver",atomicNumber:47,group:11,period:5,category:"transition metal",electronegativity:1.93,oxidationStates:[1],valenceElectrons:1},{symbol:"Cd",name:"Cadmium",atomicNumber:48,group:12,period:5,category:"transition metal",electronegativity:1.69,oxidationStates:[2],valenceElectrons:2},{symbol:"In",name:"Indium",atomicNumber:49,group:13,period:5,category:"post-transition metal",electronegativity:1.78,oxidationStates:[3],valenceElectrons:3},{symbol:"Sn",name:"Tin",atomicNumber:50,group:14,period:5,category:"post-transition metal",electronegativity:1.96,oxidationStates:[2,4],valenceElectrons:4},{symbol:"Sb",name:"Antimony",atomicNumber:51,group:15,period:5,category:"metalloid",electronegativity:2.05,oxidationStates:[-3,3,5],valenceElectrons:5},{symbol:"Te",name:"Tellurium",atomicNumber:52,group:16,period:5,category:"metalloid",electronegativity:2.1,oxidationStates:[-2,4,6],valenceElectrons:6},{symbol:"I",name:"Iodine",atomicNumber:53,group:17,period:5,category:"halogen",electronegativity:2.66,oxidationStates:[-1,1,3,5,7],valenceElectrons:7},{symbol:"Xe",name:"Xenon",atomicNumber:54,group:18,period:5,category:"noble gas",electronegativity:2.6,oxidationStates:[0,2,4,6],valenceElectrons:8},{symbol:"Cs",name:"Cesium",atomicNumber:55,group:1,period:6,category:"alkali metal",electronegativity:.79,oxidationStates:[1],valenceElectrons:1},{symbol:"Ba",name:"Barium",atomicNumber:56,group:2,period:6,category:"alkaline earth metal",electronegativity:.89,oxidationStates:[2],valenceElectrons:2},{symbol:"Au",name:"Gold",atomicNumber:79,group:11,period:6,category:"transition metal",electronegativity:2.54,oxidationStates:[1,3],valenceElectrons:1},{symbol:"Pt",name:"Platinum",atomicNumber:78,group:10,period:6,category:"transition metal",electronegativity:2.28,oxidationStates:[2,4],valenceElectrons:1},{symbol:"Pb",name:"Lead",atomicNumber:82,group:14,period:6,category:"post-transition metal",electronegativity:2.33,oxidationStates:[2,4],valenceElectrons:4},{symbol:"Hg",name:"Mercury",atomicNumber:80,group:12,period:6,category:"transition metal",electronegativity:2,oxidationStates:[1,2],valenceElectrons:2},{symbol:"Rn",name:"Radon",atomicNumber:86,group:18,period:6,category:"noble gas",electronegativity:2.2,oxidationStates:[0,2],valenceElectrons:8}])this.elements.set(e.symbol,e)}loadChemistryRules(){var e,o;(null===(o=this.database)||void 0===o?void 0:null===(e=o.chemistry_rules_engine)||void 0===e?void 0:e.reactivity_rules)&&(this.rules=this.database.chemistry_rules_engine.reactivity_rules)}loadEssentialCompounds(){this.database={compounds:{binary_halides:[{formula:"LiF",name:"Lithium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic"]},uses:["Flux","Optics"]},{formula:"LiCl",name:"Lithium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Desiccant","Medical"]},{formula:"LiBr",name:"Lithium Bromide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Air conditioning"]},{formula:"LiI",name:"Lithium Iodide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Electrolyte"]},{formula:"NaF",name:"Sodium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic in large doses"]},uses:["Toothpaste","Water fluoridation"]},{formula:"NaCl",name:"Sodium Chloride",properties:{state:"solid",type:"ionic compound",color:"white",melting_point:"801\xb0C",boiling_point:"1465\xb0C"},safety_data:{hazard_level:"low",warnings:[]},uses:["Table salt","Food preservation","De-icing"]},{formula:"NaBr",name:"Sodium Bromide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography","Medical sedative"]},{formula:"NaI",name:"Sodium Iodide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Medical imaging","Radiation detection"]},{formula:"KF",name:"Potassium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic"]},uses:["Flux","Etching"]},{formula:"KCl",name:"Potassium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Fertilizer","Medical uses"]},{formula:"KBr",name:"Potassium Bromide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography","Anticonvulsant"]},{formula:"KI",name:"Potassium Iodide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Radiation protection","Antiseptic"]},{formula:"MgF2",name:"Magnesium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Optics","Ceramics"]},{formula:"MgCl2",name:"Magnesium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["De-icing","Supplement"]},{formula:"CaF2",name:"Calcium Fluoride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Toxic if ingested"]},uses:["Steel production","Glass manufacturing"]},{formula:"CaCl2",name:"Calcium Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["De-icing","Desiccant"]},{formula:"AgCl",name:"Silver Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography","Electrodes"]},{formula:"AgBr",name:"Silver Bromide",properties:{state:"solid",type:"ionic compound",color:"pale yellow"},safety_data:{hazard_level:"low",warnings:[]},uses:["Photography"]},{formula:"CuCl",name:"Copper(I) Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Irritant"]},uses:["Catalyst","Preservative"]},{formula:"FeCl2",name:"Iron(II) Chloride",properties:{state:"solid",type:"ionic compound",color:"green"},safety_data:{hazard_level:"medium",warnings:["Corrosive"]},uses:["Water treatment"]},{formula:"ZnCl2",name:"Zinc Chloride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"medium",warnings:["Corrosive"]},uses:["Flux","Preservative"]}],binary_oxides:[{formula:"H2O",name:"Water",properties:{state:"liquid",type:"molecular compound",color:"colorless",melting_point:"0\xb0C",boiling_point:"100\xb0C"},safety_data:{hazard_level:"none",warnings:[]},uses:["Universal solvent","Essential for life"]},{formula:"CO",name:"Carbon Monoxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Extremely toxic","Odorless poisonous gas"]},uses:["Industrial reducing agent"]},{formula:"CO2",name:"Carbon Dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"low",warnings:["Asphyxiant in high concentrations"]},uses:["Fire extinguisher","Carbonated beverages"]},{formula:"SiO2",name:"Silicon Dioxide",properties:{state:"solid",type:"covalent network",color:"white"},safety_data:{hazard_level:"low",warnings:["Dust irritant"]},uses:["Glass","Electronics"]},{formula:"Al2O3",name:"Aluminum Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Abrasives","Ceramics"]},{formula:"Fe2O3",name:"Iron(III) Oxide",properties:{state:"solid",type:"ionic compound",color:"red-brown"},safety_data:{hazard_level:"low",warnings:[]},uses:["Pigment","Iron production"]},{formula:"CuO",name:"Copper(II) Oxide",properties:{state:"solid",type:"ionic compound",color:"black"},safety_data:{hazard_level:"low",warnings:[]},uses:["Ceramics","Catalysts"]},{formula:"ZnO",name:"Zinc Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Sunscreen","Rubber"]},{formula:"MgO",name:"Magnesium Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"low",warnings:[]},uses:["Refractory","Antacid"]},{formula:"CaO",name:"Calcium Oxide",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Caustic","Reacts violently with water"]},uses:["Cement","Steel production"]}],hydrides:[{formula:"LiH",name:"Lithium Hydride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Reacts violently with water"]},uses:["Reducing agent"]},{formula:"NaH",name:"Sodium Hydride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Reacts violently with water"]},uses:["Reducing agent"]},{formula:"CaH2",name:"Calcium Hydride",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"high",warnings:["Reacts with water"]},uses:["Desiccant","Hydrogen source"]}],acids:[{formula:"HCl",name:"Hydrogen Chloride",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Toxic vapors"]},uses:["Industrial acid","Chemical synthesis"]},{formula:"HF",name:"Hydrogen Fluoride",properties:{state:"liquid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"very high",warnings:["Extremely corrosive","Burns skin and bones"]},uses:["Etching","Industrial processes"]},{formula:"HBr",name:"Hydrogen Bromide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Toxic"]},uses:["Chemical synthesis"]},{formula:"HI",name:"Hydrogen Iodide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Toxic"]},uses:["Chemical synthesis"]},{formula:"H2S",name:"Hydrogen Sulfide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"very high",warnings:["Extremely toxic","Rotten egg odor"]},uses:["Industrial processes"]},{formula:"H2SO4",name:"Sulfuric Acid",properties:{state:"liquid",type:"molecular compound",color:"colorless",density:"1.84 g/cm\xb3"},safety_data:{hazard_level:"very high",warnings:["Extremely corrosive","Causes severe burns","Reacts violently with water"]},uses:["Industrial acid","Battery acid","Chemical synthesis"]},{formula:"H2SO3",name:"Sulfurous Acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Corrosive","Irritant"]},uses:["Food preservative","Bleaching agent"]},{formula:"HNO3",name:"Nitric Acid",properties:{state:"liquid",type:"molecular compound",color:"colorless to yellow"},safety_data:{hazard_level:"very high",warnings:["Extremely corrosive","Strong oxidizer","Toxic vapors"]},uses:["Fertilizer production","Explosives","Metal etching"]},{formula:"H3PO4",name:"Phosphoric Acid",properties:{state:"liquid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"medium",warnings:["Corrosive","Irritant"]},uses:["Food additive","Fertilizer","Soft drinks"]},{formula:"H2CO3",name:"Carbonic Acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"low",warnings:["Mild irritant"]},uses:["Carbonated beverages","pH buffering"]}],organic_compounds:[{formula:"CH4",name:"Methane",properties:{state:"gas",type:"organic compound",color:"colorless"},safety_data:{hazard_level:"medium",warnings:["Flammable","Asphyxiant"]},uses:["Natural gas","Fuel"]},{formula:"NH3",name:"Ammonia",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Toxic","Corrosive","Irritant"]},uses:["Fertilizer","Cleaning agent"]},{formula:"CO2",name:"Carbon Dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"low",warnings:["Asphyxiant in high concentrations"]},uses:["Fire extinguishers","Carbonated drinks","Photosynthesis"]},{formula:"SO2",name:"Sulfur Dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Toxic vapors","Respiratory irritant","Environmental pollutant"]},uses:["Food preservative","Wine making","Paper bleaching"]},{formula:"NO2",name:"Nitrogen Dioxide",properties:{state:"gas",type:"molecular compound",color:"reddish-brown"},safety_data:{hazard_level:"very high",warnings:["Highly toxic","Strong oxidizer","Respiratory damage"]},uses:["Nitric acid production","Chemical synthesis"]},{formula:"NaHCO3",name:"Sodium Bicarbonate",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"very low",warnings:[]},uses:["Baking soda","Antacid","Cleaning agent","Fire extinguisher"]},{formula:"CaCO3",name:"Calcium Carbonate",properties:{state:"solid",type:"ionic compound",color:"white"},safety_data:{hazard_level:"very low",warnings:[]},uses:["Limestone","Marble","Antacid","Construction material"]},{formula:"C2H6O",name:"Ethanol",properties:{state:"liquid",type:"organic compound",color:"colorless"},safety_data:{hazard_level:"medium",warnings:["Flammable","Intoxicating"]},uses:["Alcoholic beverages","Fuel additive","Antiseptic","Solvent"]},{formula:"C6H12O6",name:"Glucose",properties:{state:"solid",type:"organic compound",color:"white"},safety_data:{hazard_level:"very low",warnings:[]},uses:["Food sweetener","Energy source","Medical solutions","Fermentation"]}],noble_gas_compounds:[{formula:"XeF4",name:"Xenon Tetrafluoride",properties:{state:"solid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Highly reactive","Toxic"]},uses:["Research","Fluorinating agent"]},{formula:"KrF2",name:"Krypton Difluoride",properties:{state:"solid",type:"molecular compound",color:"colorless"},safety_data:{hazard_level:"high",warnings:["Highly reactive","Unstable"]},uses:["Research"]}]}}}async predictCompoundWithCounts(e){for(let o of(0===this.elements.size&&this.initializeElements(),e))if(!o.symbol||"number"!=typeof o.count||o.count<=0)return{will_react:!1,confidence:.1,source:"rules_engine",reason:"Invalid element data: ".concat(JSON.stringify(o)),note:"Please check element symbols and counts"};let o=e.sort((e,o)=>e.symbol.localeCompare(o.symbol)).map(e=>"".concat(e.symbol).concat(e.count>1?e.count:"")).join("-");if(this.cache.has(o))return this.cache.get(o);let a=this.generateFormulaFromCounts(e),i=this.searchDatabaseByFormula(a);if(i){let e={...i,source:"database",confidence:1};return this.cache.set(o,e),e}let t=this.applyChemistryRulesWithCounts(e);if(t.confidence>.8)return this.cache.set(o,t),t;let r=this.runMLModelWithCounts(e);if(r.confidence>.6)return this.cache.set(o,r),r;let n={will_react:!1,confidence:.85,source:"rules_engine",reason:"No favorable reaction conditions found for this stoichiometry",note:"Consider different element ratios"};return this.cache.set(o,n),n}generateFormulaFromCounts(e){return e&&0!==e.length?e.sort((e,o)=>{let a={H:1,Li:2,Be:3,B:4,C:5,N:6,O:7,F:8,Na:9,Mg:10,Al:11,Si:12,P:13,S:14,Cl:15,K:16,Ca:17,Br:18,I:19};return(a[e.symbol]||20)-(a[o.symbol]||20)}).map(e=>1===e.count?e.symbol:"".concat(e.symbol).concat(e.count)).join(""):""}searchDatabaseByFormula(e){var o;if(!(null===(o=this.database)||void 0===o?void 0:o.compounds))return null;for(let o of["binary_halides","binary_oxides","hydrides","hydroxides","acids","salts","noble_gas_compounds","organic_compounds"]){let a=this.database.compounds[o];if(!a)continue;let i=a.find(o=>o.formula===e||o.formula===this.normalizeFormula(e)||this.formulasAreEquivalent(o.formula,e));if(i)return{will_react:!0,formula:i.formula,name:i.name,properties:i.properties,safety:i.safety_data,uses:i.uses}}return null}normalizeFormula(e){return"H2O"===e||"OH2"===e?"H2O":"HO"===e||"OH"===e?"OH":e}formulasAreEquivalent(e,o){return this.normalizeFormula(e)===this.normalizeFormula(o)}applyChemistryRulesWithCounts(e){let o=this.generateFormulaFromCounts(e);if("H2O"===o)return{will_react:!0,confidence:1,formula:"H2O",name:"water",properties:{state:"liquid",type:"molecular compound",color:"colorless",melting_point:"0\xb0C",boiling_point:"100\xb0C"},safety:{hazard_level:"none",warnings:[]},uses:["Universal solvent","Essential for life","Chemical reactions"],source:"rules_engine",rule_applied:"R004 - Hydrogen compounds with oxygen",warnings:[]};if("HO"===o||"OH"===o)return{will_react:!0,confidence:.95,formula:"OH",name:"hydroxide",properties:{state:"ion",type:"ionic",color:"colorless"},safety:{hazard_level:"medium",warnings:["Basic/alkaline","Can cause burns"]},uses:["Chemical synthesis","pH adjustment"],source:"rules_engine",rule_applied:"R004 - Hydrogen-oxygen compounds",warnings:["This is typically found as part of ionic compounds like NaOH"]};if(e.length>=3)return this.handleMultiElementCompounds(e,o);if(2===e.length){let[a,i]=e;return this.isAlkaliMetal(a.symbol)&&this.isHalogen(i.symbol)?{will_react:!0,confidence:1,formula:o,name:this.getCompoundName(a.symbol,i.symbol),properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"low",warnings:[]},uses:["Industrial applications","Chemical synthesis"],source:"rules_engine",rule_applied:"R001 - Alkali metal + Halogen → Ionic salt",warnings:[]}:this.isAlkalineEarthMetal(a.symbol)&&this.isHalogen(i.symbol)?{will_react:!0,confidence:1,formula:this.getAlkalineEarthHalideFormula(a.symbol,i.symbol),name:this.getCompoundName(a.symbol,i.symbol),properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"low",warnings:[]},uses:["Industrial applications","Chemical synthesis"],source:"rules_engine",rule_applied:"R002 - Alkaline earth metal + Halogen → Ionic salt",warnings:[]}:this.applyChemistryRules(e[0].symbol,e[1].symbol)}return{will_react:!1,confidence:.3,source:"rules_engine",reason:"No specific rules for this combination"}}runMLModelWithCounts(e){let o=this.generateFormulaFromCounts(e);if(2===e.length){let[a,i]=e;if(this.isMetal(a.symbol)&&this.isNonmetal(i.symbol))return{will_react:!0,confidence:.85,formula:o,name:"".concat(a.symbol.toLowerCase(),"-").concat(i.symbol.toLowerCase()," compound"),properties:{type:"ionic compound",state:"solid"},source:"ml_model",warnings:[]}}return{will_react:!1,confidence:.4,source:"ml_model",reason:"ML model suggests low reaction probability"}}getCompoundName(e,o){let a={Li:"lithium",Na:"sodium",K:"potassium",Rb:"rubidium",Cs:"cesium",Be:"beryllium",Mg:"magnesium",Ca:"calcium",Sr:"strontium",Ba:"barium"}[e]||e.toLowerCase(),i={F:"fluoride",Cl:"chloride",Br:"bromide",I:"iodide"}[o]||o.toLowerCase();return"".concat(a," ").concat(i)}getAlkalineEarthHalideFormula(e,o){return"".concat(e).concat(o,"2")}isTransitionMetal(e){return["Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","Au","Pt","Hg"].includes(e)}getTransitionMetalHalideFormula(e,o){var a;return(null===(a=({Fe:{Cl:"FeCl2",F:"FeF2",Br:"FeBr2",I:"FeI2"},Cu:{Cl:"CuCl",F:"CuF",Br:"CuBr",I:"CuI"},Zn:{Cl:"ZnCl2",F:"ZnF2",Br:"ZnBr2",I:"ZnI2"},Ag:{Cl:"AgCl",F:"AgF",Br:"AgBr",I:"AgI"},Au:{Cl:"AuCl3",F:"AuF3",Br:"AuBr3",I:"AuI3"}})[e])||void 0===a?void 0:a[o])||"".concat(e).concat(o,"2")}getTransitionMetalColor(e,o){var a;return(null===(a=({Fe:{Cl:"green",F:"pale green",Br:"yellow-brown",I:"dark brown"},Cu:{Cl:"white",F:"white",Br:"white",I:"white"},Zn:{Cl:"white",F:"white",Br:"white",I:"white"},Ag:{Cl:"white",F:"yellow",Br:"pale yellow",I:"yellow"},Au:{Cl:"red",F:"orange",Br:"dark red",I:"dark green"}})[e])||void 0===a?void 0:a[o])||"colored"}getMetalSulfideFormula(e){return({Na:"Na2S",K:"K2S",Li:"Li2S",Rb:"Rb2S",Cs:"Cs2S",Mg:"MgS",Ca:"CaS",Sr:"SrS",Ba:"BaS",Al:"Al2S3",Fe:"FeS",Cu:"CuS",Zn:"ZnS",Pb:"PbS"})[e]||"".concat(e,"S")}getSulfideColor(e){return({Na:"white",K:"white",Li:"white",Mg:"white",Ca:"white",Al:"yellow",Fe:"black",Cu:"black",Zn:"white",Pb:"black"})[e]||"dark"}getOxideColor(e){return({Na:"white",K:"white",Li:"white",Mg:"white",Ca:"white",Al:"white",Fe:"red-brown",Cu:"black",Zn:"white"})[e]||"white"}getHalideNames(){return{F:"fluoride",Cl:"chloride",Br:"bromide",I:"iodide"}}getTransitionMetalOxideColor(e){return({Fe:"red-brown",Cu:"black to red",Cr:"green",Mn:"brown-black",Co:"black",Ni:"green-black",Ti:"white",V:"yellow-orange",Zn:"white",Ag:"black-brown",Au:"purple-brown",Pt:"brown-black",Pd:"black",Rh:"gray",Ir:"blue-black",Os:"brown",Ru:"blue-black",Sc:"white",Y:"white",La:"white",Ce:"pale yellow",Hf:"white",Ta:"white",W:"yellow",Re:"blue-black"})[e]||"colored"}getOxideSafety(e){return["Na","K","Li","Ca","Ba"].includes(e)?"high":"low"}getOxideWarnings(e){return["Na","K","Li","Ca","Ba"].includes(e)?["Reacts violently with water","Caustic","Can cause burns"]:[]}getHydrogenHalideName(e){return({F:"hydrogen fluoride",Cl:"hydrogen chloride",Br:"hydrogen bromide",I:"hydrogen iodide"})[e]||"hydrogen ".concat(e.toLowerCase(),"ide")}handleMultiElementCompounds(e,o){var a,i,t,r,n,l,s,c,u,d;let m=e.map(e=>e.symbol).sort(),p=e.reduce((e,o)=>({...e,[o.symbol]:o.count}),{});if(m.includes("H")&&m.includes("S")&&m.includes("O")){if(2===p.H&&1===p.S&&4===p.O)return{will_react:!0,confidence:1,formula:"H2SO4",name:"sulfuric acid",properties:{state:"liquid",type:"molecular compound",color:"colorless",density:"1.84 g/cm\xb3",boiling_point:"337\xb0C"},safety:{hazard_level:"very high",warnings:["Extremely corrosive","Causes severe burns","Reacts violently with water","Toxic vapors"]},uses:["Industrial acid","Battery acid","Chemical synthesis","Fertilizer production"],source:"rules_engine",rule_applied:"R014 - Hydrogen + Sulfur + Oxygen → Sulfuric Acid",warnings:["Extremely dangerous - handle with extreme care","Always add acid to water, never water to acid"]};if(2===p.H&&1===p.S&&3===p.O)return{will_react:!0,confidence:.9,formula:"H2SO3",name:"sulfurous acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless"},safety:{hazard_level:"high",warnings:["Corrosive","Irritant","Toxic vapors"]},uses:["Food preservative","Bleaching agent","Chemical synthesis"],source:"rules_engine",rule_applied:"R015 - Hydrogen + Sulfur + Oxygen → Sulfurous Acid",warnings:["Corrosive to metals and organic matter"]}}if(m.includes("H")&&m.includes("N")&&m.includes("O")&&1===p.H&&1===p.N&&3===p.O)return{will_react:!0,confidence:1,formula:"HNO3",name:"nitric acid",properties:{state:"liquid",type:"molecular compound",color:"colorless to yellow",density:"1.41 g/cm\xb3"},safety:{hazard_level:"very high",warnings:["Extremely corrosive","Strong oxidizer","Toxic vapors","Causes severe burns"]},uses:["Fertilizer production","Explosives","Metal etching","Chemical synthesis"],source:"rules_engine",rule_applied:"R016 - Hydrogen + Nitrogen + Oxygen → Nitric Acid",warnings:["Extremely dangerous oxidizing acid","Reacts violently with organic matter"]};if(m.includes("H")&&m.includes("P")&&m.includes("O")&&3===p.H&&1===p.P&&4===p.O)return{will_react:!0,confidence:1,formula:"H3PO4",name:"phosphoric acid",properties:{state:"liquid",type:"molecular compound",color:"colorless",density:"1.87 g/cm\xb3"},safety:{hazard_level:"medium",warnings:["Corrosive","Irritant to skin and eyes"]},uses:["Food additive","Fertilizer","Rust removal","Soft drinks"],source:"rules_engine",rule_applied:"R017 - Hydrogen + Phosphorus + Oxygen → Phosphoric Acid",warnings:["Moderately corrosive"]};if(m.includes("H")&&m.includes("O")){let o=e.filter(e=>this.isMetal(e.symbol));if(1===o.length&&1===p.H&&1===p.O){let e=o[0].symbol;return{will_react:!0,confidence:.95,formula:"".concat(e,"OH"),name:"".concat(null===(a=this.elements.get(e))||void 0===a?void 0:a.name.toLowerCase()," hydroxide"),properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"high",warnings:["Caustic","Corrosive","Can cause severe burns"]},uses:["Industrial base","Soap making","Chemical synthesis"],source:"rules_engine",rule_applied:"R018 - Metal + Oxygen + Hydrogen → Metal Hydroxide",warnings:["Highly caustic - causes chemical burns"]}}}if(m.includes("C")&&m.includes("O")){let o=e.filter(e=>this.isMetal(e.symbol));if(1===o.length&&1===p.C&&3===p.O){let e=o[0].symbol,a=null===(i=this.elements.get(e))||void 0===i?void 0:i.name.toLowerCase();return{will_react:!0,confidence:.9,formula:"".concat(e,"CO3"),name:"".concat(a," carbonate"),properties:{state:"solid",type:"ionic compound",color:"white"},safety:{hazard_level:"low",warnings:[]},uses:["Construction material","Antacid","Industrial applications"],source:"rules_engine",rule_applied:"R019 - Metal + Carbon + Oxygen → Metal Carbonate",warnings:[]}}}if(m.includes("H")&&m.includes("C")&&m.includes("O")&&2===p.H&&1===p.C&&3===p.O)return{will_react:!0,confidence:.9,formula:"H2CO3",name:"carbonic acid",properties:{state:"aqueous solution",type:"molecular compound",color:"colorless",stability:"unstable in pure form"},safety:{hazard_level:"low",warnings:["Mild irritant"]},uses:["Carbonated beverages","pH buffering","Natural processes"],source:"rules_engine",rule_applied:"R020 - Hydrogen + Carbon + Oxygen → Carbonic Acid",warnings:["Decomposes easily to CO2 and H2O"]};if(m.includes("N")&&m.includes("H")&&2===m.length&&1===p.N&&3===p.H)return{will_react:!0,confidence:1,formula:"NH3",name:"ammonia",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"pungent",boiling_point:"-33.3\xb0C"},safety:{hazard_level:"high",warnings:["Toxic vapors","Caustic","Eye irritant","Flammable"]},uses:["Fertilizer production","Cleaning products","Refrigeration","Chemical synthesis"],source:"rules_engine",rule_applied:"R021 - Nitrogen + Hydrogen → Ammonia",warnings:["Highly toxic - avoid inhalation"]};if(m.includes("C")&&m.includes("H")&&2===m.length&&1===p.C&&4===p.H)return{will_react:!0,confidence:1,formula:"CH4",name:"methane",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"odorless",boiling_point:"-161.5\xb0C"},safety:{hazard_level:"medium",warnings:["Highly flammable","Asphyxiant","Greenhouse gas"]},uses:["Natural gas fuel","Heating","Chemical feedstock","Hydrogen production"],source:"rules_engine",rule_applied:"R022 - Carbon + Hydrogen → Methane",warnings:["Extremely flammable - keep away from ignition sources"]};if(m.includes("C")&&m.includes("O")&&2===m.length&&1===p.C&&2===p.O)return{will_react:!0,confidence:1,formula:"CO2",name:"carbon dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"odorless",sublimation_point:"-78.5\xb0C"},safety:{hazard_level:"low",warnings:["Asphyxiant in high concentrations","Dry ice causes frostbite"]},uses:["Carbonated beverages","Fire extinguishers","Dry ice","Photosynthesis","Industrial processes"],source:"rules_engine",rule_applied:"R023 - Carbon + Oxygen → Carbon Dioxide",warnings:["Can cause suffocation in enclosed spaces"]};if(m.includes("S")&&m.includes("O")&&2===m.length&&1===p.S&&2===p.O)return{will_react:!0,confidence:1,formula:"SO2",name:"sulfur dioxide",properties:{state:"gas",type:"molecular compound",color:"colorless",odor:"sharp, irritating",boiling_point:"-10\xb0C"},safety:{hazard_level:"high",warnings:["Toxic vapors","Respiratory irritant","Environmental pollutant","Causes acid rain"]},uses:["Food preservative","Wine making","Paper bleaching","Chemical synthesis"],source:"rules_engine",rule_applied:"R024 - Sulfur + Oxygen → Sulfur Dioxide",warnings:["Major air pollutant - toxic to humans and environment"]};if(m.includes("N")&&m.includes("O")&&2===m.length&&1===p.N&&2===p.O)return{will_react:!0,confidence:1,formula:"NO2",name:"nitrogen dioxide",properties:{state:"gas",type:"molecular compound",color:"reddish-brown",odor:"sharp, acrid",boiling_point:"21.2\xb0C"},safety:{hazard_level:"very high",warnings:["Highly toxic","Strong oxidizer","Respiratory damage","Environmental pollutant"]},uses:["Nitric acid production","Rocket fuel oxidizer","Chemical synthesis"],source:"rules_engine",rule_applied:"R025 - Nitrogen + Oxygen → Nitrogen Dioxide",warnings:["Extremely toxic - can cause severe lung damage"]};if(m.includes("Na")&&m.includes("H")&&m.includes("C")&&m.includes("O")&&1===p.Na&&1===p.H&&1===p.C&&3===p.O)return{will_react:!0,confidence:1,formula:"NaHCO3",name:"sodium bicarbonate",properties:{state:"solid",type:"ionic compound",color:"white",crystal_structure:"monoclinic",solubility:"soluble in water"},safety:{hazard_level:"very low",warnings:[]},uses:["Baking soda","Antacid","Fire extinguisher","Cleaning agent","Deodorizer"],source:"rules_engine",rule_applied:"R026 - Sodium + Hydrogen + Carbon + Oxygen → Sodium Bicarbonate",warnings:[]};if(m.includes("C")&&m.includes("H")&&m.includes("O")&&3===m.length&&2===p.C&&6===p.H&&1===p.O)return{will_react:!0,confidence:.95,formula:"C2H6O",name:"ethanol",properties:{state:"liquid",type:"molecular compound",color:"colorless",odor:"pleasant",boiling_point:"78.4\xb0C"},safety:{hazard_level:"medium",warnings:["Flammable","Intoxicating","Can cause drowsiness"]},uses:["Alcoholic beverages","Fuel additive","Antiseptic","Solvent","Chemical synthesis"],source:"rules_engine",rule_applied:"R027 - Carbon + Hydrogen + Oxygen → Ethanol",warnings:["Highly flammable - keep away from heat sources"]};if(m.includes("C")&&m.includes("H")&&m.includes("O")&&3===m.length&&6===p.C&&12===p.H&&6===p.O)return{will_react:!0,confidence:.95,formula:"C6H12O6",name:"glucose",properties:{state:"solid",type:"molecular compound",color:"white",crystal_structure:"crystalline",solubility:"highly soluble in water"},safety:{hazard_level:"very low",warnings:[]},uses:["Food sweetener","Energy source","Medical IV solutions","Fermentation"],source:"rules_engine",rule_applied:"R028 - Carbon + Hydrogen + Oxygen → Glucose",warnings:[]};let g=["Li","Na","K","Rb","Cs","Fr"],y=["F","Cl","Br","I"],h=e.find(e=>g.includes(e.symbol)),f=e.find(e=>y.includes(e.symbol));if(h&&f&&m.includes("O")&&3===m.length&&1===p[h.symbol]&&1===p[f.symbol]&&3===p.O){let e="F"===f.symbol?"fluor":"Cl"===f.symbol?"chlor":"Br"===f.symbol?"brom":"iod";return{will_react:!0,confidence:.9,formula:"".concat(h.symbol).concat(f.symbol,"O3"),name:"".concat(null===(t=this.elements.get(h.symbol))||void 0===t?void 0:t.name.toLowerCase()," ").concat(e,"ate"),properties:{state:"solid",type:"ionic compound",color:"white",solubility:"highly soluble"},safety:{hazard_level:"medium",warnings:["Oxidizing agent","May cause irritation"]},uses:["Oxidizing agent","Chemical synthesis","Industrial processes"],source:"rules_engine",rule_applied:"R029 - Alkali Metal + Halogen + Oxygen → Metal Halate",warnings:["Strong oxidizer - keep away from combustible materials"]}}let b=["Be","Mg","Ca","Sr","Ba","Ra"],v=e.find(e=>b.includes(e.symbol));if(v&&f&&2===m.length&&1===p[v.symbol]&&2===p[f.symbol])return{will_react:!0,confidence:.95,formula:"".concat(v.symbol).concat(f.symbol,"2"),name:"".concat(null===(r=this.elements.get(v.symbol))||void 0===r?void 0:r.name.toLowerCase()," ").concat(this.getHalideNames()[f.symbol]),properties:{state:"solid",type:"ionic compound",color:"white",crystal_structure:"ionic lattice"},safety:{hazard_level:"low",warnings:["Generally safe","Avoid ingestion"]},uses:["Industrial processes","Chemical synthesis","Research"],source:"rules_engine",rule_applied:"R030 - Alkaline Earth Metal + Halogen → Metal Halide",warnings:[]};let w=["Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg"],C=e.find(e=>w.includes(e.symbol));if(C&&m.includes("O")&&2===m.length){let e=C.symbol,o=p.O,a=p[e],i="",t="";if(2===a&&3===o?(i="".concat(e,"2O3"),t="+3"):1===a&&1===o?(i="".concat(e,"O"),t="+2"):1===a&&2===o?(i="".concat(e,"O2"),t="+4"):3===a&&4===o&&(i="".concat(e,"3O4"),t="mixed"),i)return{will_react:!0,confidence:.9,formula:i,name:"".concat(null===(n=this.elements.get(e))||void 0===n?void 0:n.name.toLowerCase()," oxide"),properties:{state:"solid",type:"ionic compound",color:this.getTransitionMetalOxideColor(e),crystal_structure:"metal oxide lattice"},safety:{hazard_level:"low",warnings:["Generally safe","May cause irritation if inhaled"]},uses:["Catalyst","Pigment","Ceramic production","Industrial processes"],source:"rules_engine",rule_applied:"R031 - Transition Metal + Oxygen → Metal Oxide",warnings:["Metal in ".concat(t," oxidation state")]}}let _=["La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu"],x=e.find(e=>_.includes(e.symbol));if(x&&m.includes("O")&&2===m.length&&2===p[x.symbol]&&3===p.O)return{will_react:!0,confidence:.95,formula:"".concat(x.symbol,"2O3"),name:"".concat(null===(l=this.elements.get(x.symbol))||void 0===l?void 0:l.name.toLowerCase()," oxide"),properties:{state:"solid",type:"ionic compound",color:"varies by element",crystal_structure:"rare earth oxide structure"},safety:{hazard_level:"low",warnings:["Generally safe","Rare earth element"]},uses:["Catalysts","Phosphors","High-tech applications","Research"],source:"rules_engine",rule_applied:"R032 - Lanthanide + Oxygen → Rare Earth Oxide",warnings:["Valuable rare earth compound"]};let S=["Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr"],H=e.find(e=>S.includes(e.symbol));if(H&&m.includes("O")&&2===m.length&&1===p[H.symbol]&&2===p.O)return{will_react:!0,confidence:.9,formula:"".concat(H.symbol,"O2"),name:"".concat(null===(s=this.elements.get(H.symbol))||void 0===s?void 0:s.name.toLowerCase()," dioxide"),properties:{state:"solid",type:"ionic compound",color:"varies by element",radioactivity:"highly radioactive"},safety:{hazard_level:"very high",warnings:["Highly radioactive","Extremely dangerous","Requires special handling","Nuclear material"]},uses:["Nuclear fuel","Research","Nuclear weapons (restricted)"],source:"rules_engine",rule_applied:"R033 - Actinide + Oxygen → Actinide Oxide",warnings:["RADIOACTIVE - Handle only in specialized facilities","Requires nuclear licensing"]};let N=["Al","Ga","In","Tl","Sn","Pb","Bi"],O=e.find(e=>N.includes(e.symbol));if(O&&f&&2===m.length){let e=O.symbol,o=f.symbol,a=p[e],i=p[o];if("Al"===e&&1===a&&3===i||"Ga"===e&&1===a&&3===i||"In"===e&&1===a&&3===i)return{will_react:!0,confidence:.95,formula:"".concat(e).concat(o,"3"),name:"".concat(null===(c=this.elements.get(e))||void 0===c?void 0:c.name.toLowerCase()," ").concat(this.getHalideNames()[o]),properties:{state:"solid",type:"ionic compound",color:"white to colored",crystal_structure:"ionic lattice"},safety:{hazard_level:"medium",warnings:["May cause irritation","Avoid prolonged exposure"]},uses:["Industrial processes","Chemical synthesis","Electronics"],source:"rules_engine",rule_applied:"R034 - Post-transition Metal + Halogen → Metal Halide",warnings:[]}}let F=["B","Si","Ge","As","Sb","Te"],M=e.find(e=>F.includes(e.symbol));if(M&&f&&2===m.length){let e=M.symbol,o=f.symbol,a=p[e],i=p[o];if(1===a&&(3===i||4===i))return{will_react:!0,confidence:.9,formula:"".concat(e).concat(o).concat(i),name:"".concat(null===(u=this.elements.get(e))||void 0===u?void 0:u.name.toLowerCase()," ").concat(this.getHalideNames()[o]),properties:{state:4===i?"liquid":"solid",type:"covalent compound",color:"colorless to colored"},safety:{hazard_level:"high",warnings:["Toxic","Corrosive","Avoid inhalation"]},uses:["Chemical synthesis","Industrial processes","Semiconductor industry"],source:"rules_engine",rule_applied:"R035 - Metalloid + Halogen → Metalloid Halide",warnings:["Handle with caution - toxic compound"]}}let E=["He","Ne","Ar","Kr","Xe","Rn"],z=e.find(e=>E.includes(e.symbol));if(z&&m.includes("F")&&2===m.length){let e=z.symbol;if(("Xe"===e||"Kr"===e)&&1===p[e]){let o=p.F;if(2===o||4===o||6===o)return{will_react:!0,confidence:.8,formula:"".concat(e,"F").concat(o),name:"".concat(null===(d=this.elements.get(e))||void 0===d?void 0:d.name.toLowerCase()," fluoride"),properties:{state:"solid",type:"molecular compound",color:"colorless",stability:"moderately stable"},safety:{hazard_level:"very high",warnings:["Highly reactive","Toxic","Strong oxidizer","Experimental compound"]},uses:["Research","Fluorinating agent","Scientific studies"],source:"rules_engine",rule_applied:"R036 - Noble Gas + Fluorine → Noble Gas Fluoride",warnings:["Extremely rare and reactive compound","Requires specialized conditions"]}}}return{will_react:!1,confidence:.4,source:"rules_engine",reason:"Complex multi-element combination (".concat(e.length," elements) - requires specific conditions"),note:"Try simpler binary combinations or check specific compound formulas",warnings:["Multi-element reactions often require specific conditions like catalysts, temperature, or pressure"]}}constructor(){this.rules=[],this.elements=new Map,this.cache=new Map,this.loadDatabase(),this.initializeElements(),this.loadChemistryRules()}}let t=new i;o.default=t}}]);