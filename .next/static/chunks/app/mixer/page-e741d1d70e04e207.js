(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{3046:function(e,t,n){Promise.resolve().then(n.bind(n,8614))},6454:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});let l=(0,n(9763).Z)("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]])},1239:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});let l=(0,n(9763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},166:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var l=n(5775),s=n.n(l)},5775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let l=n(7043);n(7437),n(2265);let s=l._(n(5602));function o(e,t){var n;let l={loading:e=>{let{error:t,isLoading:n,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let o={...l,...t};return(0,s.default)({...o,modules:null==(n=o.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let l=n(8993);function s(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return n}},5602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let l=n(7437),s=n(2265),o=n(1523),a=n(49);function c(e){return{default:e&&"default"in e?e.default:e}}let r={loader:()=>Promise.resolve(c(()=>null)),loading:null,ssr:!0},i=function(e){let t={...r,...e},n=(0,s.lazy)(()=>t.loader().then(c)),i=t.loading;function d(e){let c=i?(0,l.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,r=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(a.PreloadCss,{moduleIds:t.modules}):null,(0,l.jsx)(n,{...e})]}):(0,l.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(n,{...e})});return(0,l.jsx)(s.Suspense,{fallback:c,children:r})}return d.displayName="LoadableComponent",d}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return o}});let l=n(7437),s=n(544);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,s.getExpectedRequestStore)("next/dynamic css"),o=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));o.push(...t)}}return 0===o.length?null:(0,l.jsx)(l.Fragment,{children:o.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},8614:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var l=n(7437),s=n(2265),o=n(166),a=n(2333),c=n(9763);let r=(0,c.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var i=n(6454);let d=(0,c.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),m=(0,c.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var u=n(1239);let x=(0,c.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var p=n(8185);let h=new Map,f=null;async function b(e){let t=e.map(e=>e.name),n=[...t].sort(),l=new Set;l.add(t.join("+")),l.add(n.join("+")),l.add(t.reverse().join("+")),t.length>=3&&(function e(t){if(t.length<=1)return[t];let n=[];for(let l=0;l<t.length;l++)for(let s of e([...t.slice(0,l),...t.slice(l+1)]))n.push([t[l],...s]);return n})(t).forEach(e=>l.add(e.join("+")));let s=Array.from(l);for(let e of(console.log("Looking up compound for:",t,"Keys:",s),s))if(h.has(e))return console.log("Found in cache with key:",e),h.get(e)||null;if(!f)try{let e=await fetch("/data/compounds.json");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));f=await e.json(),console.log("Loaded compounds database:",Object.keys(f||{}))}catch(e){console.error("Failed to load compounds database:",e),f={}}if(f)for(let e of s){let t=f[e];if(t)return console.log("Found in local database with key:",e,"compound:",t.name),h.set(n.join("+"),t),t}console.log("Not found in local database, querying PubChem API...");try{let t=await g(e);if(t)return console.log("Found compound via PubChem:",t.name),h.set(n.join("+"),t),t}catch(e){console.error("PubChem query failed:",e)}return h.set(n.join("+"),null),null}async function g(e){try{for(let t of function(e){let t=[],n=e.map(e=>e.symbol);if(2===e.length){let[e,l]=n;t.push("".concat(e).concat(l),"".concat(l).concat(e),"".concat(e,"2").concat(l),"".concat(l,"2").concat(e),"".concat(e).concat(l,"2"),"".concat(l).concat(e,"2"),"".concat(e,"2").concat(l,"3"),"".concat(l,"2").concat(e,"3"),"".concat(e,"3").concat(l,"2"),"".concat(l,"3").concat(e,"2"),"".concat(e,"3").concat(l),"".concat(l,"3").concat(e),"".concat(e).concat(l,"3"),"".concat(l).concat(e,"3"),"".concat(e,"4").concat(l),"".concat(l,"4").concat(e))}else if(3===e.length){let[e,l,s]=n;t.push("".concat(e).concat(l).concat(s),"".concat(e).concat(s).concat(l),"".concat(l).concat(e).concat(s),"".concat(l).concat(s).concat(e),"".concat(s).concat(e).concat(l),"".concat(s).concat(l).concat(e),"".concat(e,"2").concat(l).concat(s),"".concat(e).concat(l,"2").concat(s),"".concat(e).concat(l).concat(s,"2"),"".concat(e).concat(l).concat(s,"3"),"".concat(e).concat(l,"3").concat(s),"".concat(e,"3").concat(l).concat(s))}else e.length>=4&&(t.push(n.join("")),t.push(n.reverse().join("")));return Array.from(new Set(t))}(e)){let e=await j(t);if(e)return e}let t=e.map(e=>e.name.toLowerCase()).sort().join(" "),n=await y(t);if(n)return n;return null}catch(e){return null}}async function j(e){try{var t,n,l,s;let o=await fetch("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/formula/".concat(e,"/JSON"));if(!o.ok)return null;let a=(await o.json()).PC_Compounds;if(!a||0===a.length)return null;let c=a[0],r=null===(n=c.id)||void 0===n?void 0:null===(t=n.id)||void 0===t?void 0:t.cid;if(!r)return null;let i=await fetch("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/".concat(r,"/property/MolecularFormula,IUPACName,MolecularWeight,CanonicalSMILES/JSON"));if(!i.ok)return null;let d=await i.json(),m=null===(s=d.PropertyTable)||void 0===s?void 0:null===(l=s.Properties)||void 0===l?void 0:l[0];if(!m)return null;let u=m.IUPACName||m.MolecularFormula||"Unknown compound";return{elements:[],formula:m.MolecularFormula||e,name:u.length>50?m.MolecularFormula:u,properties:{state:"Unknown",melting_point:"Unknown",boiling_point:"Unknown",density:"Unknown"},uses:["Chemical compound","Research","Industrial applications"],links:{wikipedia:"https://en.wikipedia.org/wiki/".concat(encodeURIComponent(u)),pubchem:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(r)}}}catch(e){return null}}async function y(e){try{var t,n,l,s;let o="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/".concat(encodeURIComponent(e),"/JSON"),a=await fetch(o);if(!a.ok)return null;let c=(await a.json()).PC_Compounds;if(!c||0===c.length)return null;let r=c[0],i=null===(n=r.id)||void 0===n?void 0:null===(t=n.id)||void 0===t?void 0:t.cid;if(!i)return null;let d=await fetch("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/".concat(i,"/property/MolecularFormula,IUPACName,MolecularWeight/JSON"));if(!d.ok)return null;let m=await d.json(),u=null===(s=m.PropertyTable)||void 0===s?void 0:null===(l=s.Properties)||void 0===l?void 0:l[0];if(!u)return null;let x=u.IUPACName||e;return{elements:[],formula:u.MolecularFormula||"Unknown",name:x.length>50?u.MolecularFormula:x,properties:{state:"Unknown",melting_point:"Unknown",boiling_point:"Unknown",density:"Unknown"},uses:["Chemical compound","Research","Industrial applications"],links:{wikipedia:"https://en.wikipedia.org/wiki/".concat(encodeURIComponent(x)),pubchem:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(i)}}}catch(e){return null}}let v=(e,t)=>{let n;return function(){for(var l=arguments.length,s=Array(l),o=0;o<l;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),t)}},w=(0,o.default)(()=>n.e(772).then(n.bind(n,5640)),{loadableGenerated:{webpack:()=>[5640]},loading:()=>(0,l.jsx)("div",{className:"bg-gray-200 h-96 rounded-lg"}),ssr:!1});function N(){let{isSignedIn:e,isLoaded:t}=(0,a.aF)(),{elements:n}=(0,p.l)(),[o,c]=(0,s.useState)([]),[h,f]=(0,s.useState)(null),[g,j]=(0,s.useState)(!1),y=e=>{c(o.filter(t=>t.element.id!==e))},N=(e,t)=>{if(t<=0){y(e);return}c(o.map(n=>n.element.id===e?{...n,count:t}:n))},k=v(async()=>{if(o.length<2){f({success:!1,error:"Please select at least 2 elements to mix.",suggestions:["Try adding more elements","Experiment with different combinations"]});return}j(!0);try{let e=o.map(e=>({symbol:e.element.symbol,name:e.element.name})),t=await b(e);if(t){let e=[{name:"State",value:t.properties.state,unit:""},{name:"Melting Point",value:t.properties.melting_point,unit:""},{name:"Boiling Point",value:t.properties.boiling_point,unit:""},{name:"Density",value:t.properties.density,unit:""}].filter(e=>e.value&&"Unknown"!==e.value);f({success:!0,compound:{id:"compound-".concat(Date.now()),name:t.name,formula:t.formula,elements:o.map(e=>({element:e.element.symbol,count:e.count})),type:"compound",properties:e,description:"".concat(t.name," (").concat(t.formula,")"),uses:t.uses,phase:t.properties.state||"unknown",color:"unknown",learnMore:t.links.wikipedia,pubchemUrl:t.links.pubchem}})}else{let t=e.map(e=>{var t;return t=e.name,"https://en.wikipedia.org/wiki/".concat(encodeURIComponent(t))});f({success:!1,error:"No stable compound known",suggestions:t.map(e=>"Learn about elements: ".concat(e))})}}catch(e){console.error("Mixing error:",e),f({success:!1,error:"Error looking up compound",suggestions:["Please try again"]})}finally{j(!1)}},300);return(n.slice(0,10),t)?e?(0,l.jsxs)("div",{className:"min-h-screen px-2 sm:px-4 md:px-6 lg:px-8 py-4 md:py-6 lg:py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-3 md:mb-4",children:"Element Mixer"}),(0,l.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 px-4",children:"Combine elements to create compounds and discover chemistry"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:[(0,l.jsx)("div",{className:"xl:col-span-2",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4 lg:p-6 border border-gray-200",children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-gray-900 mb-3 md:mb-4",children:"Select Elements"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(w,{onElementClick:e=>{let t=o.findIndex(t=>t.element.id===e.id);if(t>=0){let e=[...o];e[t].count+=1,c(e)}else c([...o,{element:e,count:1}])}})})]})}),(0,l.jsx)("div",{className:"xl:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3 md:p-4 lg:p-6 border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Mixing Zone"}),(0,l.jsxs)("button",{onClick:()=>{c([]),f(null)},className:"flex items-center space-x-1 md:space-x-2 px-2 md:px-4 py-1 md:py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm md:text-base",children:[(0,l.jsx)(r,{className:"h-3 w-3 md:h-4 md:w-4"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Reset"})]})]}),(0,l.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,l.jsx)("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2 md:mb-3",children:"Selected Elements"}),0===o.length?(0,l.jsxs)("div",{className:"text-center py-6 md:py-8 text-gray-500",children:[(0,l.jsx)(i.Z,{className:"h-8 w-8 md:h-12 md:w-12 mx-auto mb-3 md:mb-4 opacity-50"}),(0,l.jsx)("p",{className:"text-sm md:text-base",children:"No elements selected"}),(0,l.jsx)("p",{className:"text-xs md:text-sm",children:"Click on elements to add them to the mixer"})]}):(0,l.jsx)("div",{className:"space-y-2 md:space-y-3",children:o.map(e=>{let{element:t,count:n}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 md:p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded flex items-center justify-center text-white font-bold text-sm md:text-base",style:{backgroundColor:t.color},children:t.symbol}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-900 text-sm md:text-base",children:t.name}),(0,l.jsxs)("div",{className:"text-xs md:text-sm text-gray-600",children:["Atomic Number: ",t.atomicNumber]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1 md:space-x-2",children:[(0,l.jsx)("button",{onClick:()=>N(t.id,n-1),className:"p-1 hover:bg-gray-200 rounded",children:(0,l.jsx)(d,{className:"h-3 w-3 md:h-4 md:w-4"})}),(0,l.jsx)("span",{className:"font-medium text-gray-900 min-w-[1.5rem] md:min-w-[2rem] text-center text-sm md:text-base",children:n}),(0,l.jsx)("button",{onClick:()=>N(t.id,n+1),className:"p-1 hover:bg-gray-200 rounded",children:(0,l.jsx)(m,{className:"h-3 w-3 md:h-4 md:w-4"})}),(0,l.jsx)("button",{onClick:()=>y(t.id),className:"p-1 hover:bg-red-100 text-red-600 rounded ml-1 md:ml-2",children:(0,l.jsx)(d,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]},t.id)})})]}),(0,l.jsx)("div",{className:"mb-4 md:mb-6",children:(0,l.jsx)("button",{onClick:k,disabled:o.length<2||g,className:"w-full flex items-center justify-center space-x-2 py-2 md:py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg text-sm md:text-base",children:g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin h-4 w-4 md:h-5 md:w-5 border-2 border-white border-t-transparent rounded-full"}),(0,l.jsx)("span",{children:"Mixing..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 md:h-5 md:w-5"}),(0,l.jsx)("span",{children:"Mix Elements"})]})})}),h&&(0,l.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,l.jsx)("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-3 md:mb-4",children:"Mixing Result"}),h.success?(0,l.jsxs)("div",{className:"space-y-4",children:[h.compound&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 md:p-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2 md:mb-3",children:[(0,l.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(i.Z,{className:"h-3 w-3 md:h-5 md:w-5 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-base md:text-lg font-semibold text-green-900",children:h.compound.name}),(0,l.jsx)("p",{className:"text-green-700 font-mono text-sm md:text-base",children:h.compound.formula})]})]}),(0,l.jsx)("p",{className:"text-green-800 mb-2 md:mb-3 text-sm md:text-base",children:h.compound.description}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4 text-xs md:text-sm mb-3 md:mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Formula:"})," ",(0,l.jsx)("span",{className:"font-mono",children:h.compound.formula})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Type:"})," ",h.compound.type]}),(0,l.jsxs)("div",{className:"sm:col-span-2",children:[(0,l.jsx)("strong",{children:"Phase:"})," ",h.compound.phase]})]}),h.compound.properties&&h.compound.properties.length>0&&(0,l.jsxs)("div",{className:"mb-3 md:mb-4",children:[(0,l.jsx)("h5",{className:"font-medium text-green-900 mb-1 md:mb-2 text-sm md:text-base",children:"Properties:"}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 md:gap-2 text-xs md:text-sm",children:h.compound.properties.map((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("strong",{children:[e.name,":"]})," ",e.value," ",e.unit]},t))})]}),(h.compound.learnMore||h.compound.pubchemUrl)&&(0,l.jsxs)("div",{className:"border-t border-green-200 pt-3 md:pt-4",children:[(0,l.jsx)("h5",{className:"font-medium text-green-900 mb-1 md:mb-2 text-sm md:text-base",children:"Learn More:"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 md:gap-2",children:[h.compound.learnMore&&(0,l.jsx)("a",{href:h.compound.learnMore,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 md:px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs md:text-sm hover:bg-green-200",children:"Wikipedia"}),h.compound.pubchemUrl&&(0,l.jsx)("a",{href:h.compound.pubchemUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 md:px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs md:text-sm hover:bg-blue-200",children:"PubChem"})]})]})]}),h.reaction&&(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Chemical Reaction"}),(0,l.jsx)("p",{className:"font-mono text-blue-800",children:h.reaction.equation}),(0,l.jsxs)("p",{className:"text-sm text-blue-700 mt-2",children:["Type: ",h.reaction.type]})]})]}):(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,l.jsx)(x,{className:"h-5 w-5 text-red-500"}),(0,l.jsx)("h4",{className:"text-lg font-semibold text-red-900",children:"Mixing Failed"})]}),(0,l.jsx)("p",{className:"text-red-800 mb-3",children:h.error}),h.suggestions&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-red-900 mb-2",children:"Suggestions:"}),(0,l.jsx)("ul",{className:"list-disc list-inside text-sm text-red-700",children:h.suggestions.map((e,t)=>(0,l.jsx)("li",{children:e},t))})]})]})]})]})})]})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to use the Element Mixer"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to mix elements and create compounds."}),(0,l.jsx)(a.$d,{mode:"modal",children:(0,l.jsx)("button",{className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700",children:"Sign In"})})]}):(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:"Loading..."})}}},function(e){e.O(0,[333,781,606,971,117,744],function(){return e(e.s=3046)}),_N_E=e.O()}]);